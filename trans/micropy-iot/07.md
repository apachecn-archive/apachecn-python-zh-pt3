# 7.初学者电子学

如果你刚接触硬件，对电子产品很少或没有经验，你可能会好奇如何完成本书中的项目。幸运的是，本书中的项目将指导您如何使用 MicroPython 板将各种电子器件连接在一起。也就是说，您可以在没有额外技能或经验的情况下完成项目。

然而，如果你想知道组件是做什么的，除了“把这一端插在这里”之外，你还需要更多的信息如果出了问题，尤其如此。此外，如果你想自己创建项目，你需要足够了解组件如何工作以成功完成你的项目——无论是完成本书中的例子还是在互联网上找到的例子。

幸运的是，你不需要正式的培训，甚至不需要理论上的大学学位，就能学会如何与电子打交道。你可以在业余爱好者的水平上学习很多关于使用电子学的知识，而不用花费几个月或几年的时间去研究。为了确保哪怕是最基本的成功，你需要知道的不仅仅是如何简单地将组件组装在一起。

本章不是试图提供一个全面的电子学教程，这需要几卷，而是为那些想使用 IOT 项目中常见的电子元件类型的人提供一个电子学概述。我包括一些基础知识的概述、常见组件的描述以及对传感器的介绍。如果你是电子学新手，这一章会给你额外的帮助，帮助你理解本书项目中使用的元件。

如果您有电子爱好者或发烧友级别的经验，或者有电子方面的经验或正式培训，您可能希望浏览本章或阅读您希望复习的主题部分。

让我们先来看看电子学的基础知识。再说一次，这绝不是一个涵盖所有知识的教程，但它将带您了解项目在如何连接和使用组件方面的意义。

## 基础知识

本节简要概述了使用电子设备时需要用到的一些最常用的工具和技术。正如您将看到的，您只需要最基本的工具，技能或技术并不难学习。然而，在我们进入这些之前，让我们看看你在 IOT 项目中需要用到的一些工具。

### 工具

构建 IOT 项目所需的绝大多数工具都是普通的手工工具(螺丝刀、小扳手、钳子等)。).对于较大的项目或创建外壳，您可能需要额外的工具，例如电动工具，但是我将只关注那些用于构建项目的工具。以下是我推荐给你的入门工具列表。

*   面包板
*   试验板电线(也称为跳线)
*   静电放电安全镊子
*   帮助手或印刷电路板(PCB)固定器
*   万用表
*   尖嘴钳
*   螺丝刀–各种尺寸(微型、小型)
*   焊料
*   烙铁
*   焊料去除器(焊料吸盘)
*   工具箱、卷轴或储存箱
*   剥线钳

然而，如果你想买一套完整的电子工具，比如来自 spark fun(sparkfun.com/categories/47)或 Adafruit(Adafruit . com/categories/83)的工具，那就错不了。你经常可以在各大品牌电子商店和家装中心找到电子套件。如果你足够幸运，住在一家电器店附近，你可以找到几乎所有制造的电子工具。大多数电子工具包都有你需要的所有手工工具。有些甚至带有万用表，但更多时候你必须单独购买。

列表中的大多数工具不需要任何解释，只是说你应该在预算允许的情况下购买最好的工具。以下段落描述了一些用于特殊任务的工具，例如剥线、焊接以及测量电压和电流。

### 万用表

万用表是构建 IOT 解决方案时需要的工具之一。你还需要它来对你的电路进行几乎所有的电气维修。有许多不同的万用表，价格从便宜的基本单位；到复杂、功能丰富、价格昂贵的设备。对于大多数 IOT 项目，包括大多数 IOT 工具包，一个基本单位是你所需要的。然而，如果你计划建立一个以上的 IOT 解决方案或想要组装自己的电子产品，你可能要多投资一点，在一个更复杂的万用表。图 [7-1](#Fig1) 左边是一个基本的数字万用表(成本约 10 美元)，右边是 BK Precision 的专业万用表。

![A447395_1_En_7_Fig1_HTML.jpg](A447395_1_En_7_Fig1_HTML.jpg)

图 7-1。

Digital multimeters

请注意，更好的血糖仪具有更精细的设置和更多功能。同样，你可能不需要超过基本单位。你至少需要测量电压、电流和电阻。无论你买哪个电表，确保它有测量交流和 DC 电压、连续性测试(有声音警报)和检查电阻的模式。我将在后面的章节中解释如何使用万用表。

Tip

大多数万用表，包括便宜的万用表，都有一个小说明书，告诉你如何测量电压、电阻和其他功能。

### 烙铁

本书中的任何项目都不需要烙铁，因为我们将使用试验板来布置和连接组件。然而，如果你计划建立一个简单的 IOT 解决方案，你需要将电线焊接在一起，或者可能需要几个连接器，从电子商店如 Radio Shack 购买一个基本的烙铁就可以了。另一方面，如果你打算自己组装电子产品，你可能要考虑买一个好的专业烙铁，比如 Hakko。专业型号包括允许您设置魔杖温度的功能，有更广泛的提示可用，并且往往持续更长时间。图 [7-2](#Fig2) 显示了 Radio Shack 的一个常用入门级。图 [7-3](#Fig3) 显示的是专业型号的 Hakko 烙铁。

Tip

为获得最佳结果，选择含铅量在 37%-40%范围内的低焊料。如果您使用专业烙铁，请调整温度以匹配焊料的熔点(列在标签上)。

![A447395_1_En_7_Fig2_HTML.jpg](A447395_1_En_7_Fig2_HTML.jpg)

图 7-2。

Entry-level soldering iron Do I Need to Learn to Solder?

如果你不知道如何焊接，或者已经有一段时间没有使用烙铁了，你可以看看 Brian Jepson、Tyler Moskowite 和 Gregory Hayes 所著的《学习焊接》( O'Reilly Media，2012)或者谷歌的焊接视频。或者你也可以从 Maker Shed ( `makershed.com/products/make-getting-started-kit-soldering`)购买入门焊接套件，它配有烙铁、剪线钳、供应品等等——学习焊接所需的一切。

![A447395_1_En_7_Fig3_HTML.jpg](A447395_1_En_7_Fig3_HTML.jpg)

图 7-3。

Professional soldering iron

### 剥线器

剥线钳有几种类型。事实上，可能有一打或更多的设计。但是有两种:一种是当你从电线上拉下来的时候，它只能夹住并切断绝缘层；以及抓持、切割和移除绝缘体的那些。第一种类型更常见，经过一些练习后，对于大多数小工作(比如修理断了的电线)来说就很好了；但是第二种类型的工作量更大，比如用裸线(没有预制连接器)连接电子设备，速度更快。可以想象，第一种要便宜得多。图 [7-4](#Fig4) 显示了两种类型的剥线钳。两者都是不错的选择。

![A447395_1_En_7_Fig4_HTML.jpg](A447395_1_En_7_Fig4_HTML.jpg)

图 7-4。

Wire strippers

### 援助之手

还有一个你可能想要得到的工具，特别是如果你需要做任何焊接的话:它被称为帮助之手或第三手工具。大多数都有一对鳄鱼夹，用来在焊接时夹住电线、印刷电路板或元件。图 [7-5](#Fig5) 显示了一个简单的帮助工具的例子。

![A447395_1_En_7_Fig5_HTML.jpg](A447395_1_En_7_Fig5_HTML.jpg)

图 7-5。

Helping hands tool

现在让我们来看看在使用高级 IOT 项目时可能需要的一些技能。

ESD is the Enemy

您应该注意确保您的身体、工作区和项目接地，以避免静电放电(ESD)。ESD 会永久损坏您的电子设备。避免这种情况的最佳方法是使用接地带，环绕在手腕上，并连接到防静电垫上，就像`uline.com/BL_7403/Anti-Static-Table-Mats`中的这些。

让我们来看看如何使用一个你在学习电子学时可能会用得最多的工具——万用表。

### 使用万用表

IOT 项目所需的电气技能各不相同，从在试验板上插上电线(正如我们迄今为止在项目中看到的那样)，到需要将元件焊接在一起或焊接到印刷电路板(PCB)上。不管你是否需要焊接电子元件，你都需要能够使用基本的万用表来测量电阻和检查电压和电流。

对于任何电子爱好者来说，万用表都是非常有用和必不可少的工具，对于任何有价值的发烧友来说，这是绝对需要的。典型的万用表有一个数字显示器[<sup>【2】</sup>](#Fn2)(通常是 LCD 或类似的数字显示器)、一个刻度盘和两个或多个用于插入带有探针端的测试引线的接线柱或端口。大多数万用表都有低电流端口(你最常用的)和大电流端口。测试引线使用红色表示正极，黑色表示负极(接地)。接地端口是插入黑色测试引线的地方，通常标有破折号或 COM。您使用的其他端口将取决于您正在测试的内容。

表盘上有一点需要注意，那就是有很多设置(有些值是重复的)或者那些看起来很相似的设置。例如，您会看到一组欧姆值(有时称为标度)，一组或两组安培值，以及一组或两组伏特值。带有 V 形实线和虚线的一组电压值适用于 DC，而带有 V 形波浪线的范围适用于交流。安培范围以同样的方式标记。图 [7-6](#Fig6) 显示了一个万用表表盘的特写，上面标有我提到的几组数值。

![A447395_1_En_7_Fig6_HTML.jpg](A447395_1_En_7_Fig6_HTML.jpg)

图 7-6。

Multimeter Dial (typical) Tip

不使用时，一定要将万用表拨盘转到 off 或某个电压范围，如果它有单独的 off 按钮的话。

用万用表可以做很多事情。你可以检查电压，测量电阻，甚至检查连续性。大多数基本的万用表将完成这些功能。然而，有些万用表有更多的功能，如测试电容，测试交流和 DC。

让我们看看如何使用万用表来完成 IOT 项目中最常见的任务:测试连续性、测量 DC 电路中的电压、测量电阻和测量电流。

#### 测试连续性

我们测试连续性，以确定是否有带电粒子流动的路径:也就是说，我们的电线和组件连接正确。例如，您可能想要检查以确保导线已正确接合。

为了测试连续性，将万用表刻度盘转到标有声音符号、铃或有箭头穿过的三角形的位置。将黑色测试引线插入 COM 端口，将红色测试引线插入标有 Hz VΩ或类似标志的端口。现在，您可以一起触摸测试引线的探针端，以听到声音或嘟嘟声。有些万用表没有声音，但可能显示“1”或类似的数字来表示连续性。查看您的手册，了解您的万用表是如何指示连续性的。图 [7-7](#Fig7) 显示了如何设置万用表来检查连续性，包括插入测试引线的端口。

请注意，在照片中，我只是将探针接触在一起，以演示如何检查连续性。我喜欢这样做，只是为了确保我的万用表是打开的，并且设置正确。 [<sup>3</sup>](#Fn3)

![A447395_1_En_7_Fig7_HTML.jpg](A447395_1_En_7_Fig7_HTML.jpg)

图 7-7。

Settings for checking continuity

连续性测试的另一个出色用途是在诊断或发现电缆接线方式时。例如，您可以使用连续性测试来发现电缆两端连接的是哪一个连接器(有时称为电线分类或旧电话时代的振铃)。

#### 测量电压

我们的 IOT 项目使用 DC。为了测量电路中的电压，我们将使用万用表上的 DC 量程。注意，DC 山脉有几个站点。这是一个音阶选择。选择与您想要测试的电压范围最接近的刻度。例如，对于我们的 IOT 项目，我们通常会测量 3.3-12V，因此我们在表盘上选择 20。接下来，将黑色测试引线插入 COM 端口，将红色测试引线插入标有 Hz VΩ的端口。

现在我们需要一些东西来衡量！拿起你家里的任何一个电池，用黑色探针接触负极，用红色探针接触正极。您应该会看到显示屏上出现一个接近电池范围的值。例如，如果我们使用 1.5V 的电池，我们应该看到接近 1.5V。如果电池耗尽，它可能不会正好是 1.5-1.6V。现在你知道如何测试电池的新鲜度了吧！图 [7-8](#Fig8) 显示了如何测量电池电压。

![A447395_1_En_7_Fig8_HTML.jpg](A447395_1_En_7_Fig8_HTML.jpg)

图 7-8。

Measuring voltage of a battery

注意读数显示 1.50，这是该 AA 电池的正确电压。如果我把探针颠倒过来——红色的是负极，黑色的是正极，显示屏上的读数应该是-1.50。这是可以的，因为它表明电流的流动方向与探头的方向相反。

Note

如果在 DC 电路中测量电压时使用了错误的探针，大多数万用表会将电压显示为负数。用你的电池试试。不会伤到万用表(或者电池)！

我们可以在项目中使用这种技术来测量电压。注意将探针放在适当的位置，尽量不要用一个探针头一次接触多个元件而造成交叉或短路。

#### 测量电流

电流以安培数(毫安-毫安)来衡量。因此，我们将使用标有 A 的直线和虚线的范围(不是波浪线，那是 AC)。我们串联测量电流。也就是说，我们必须将万用表放在电路中。这可能有点棘手，因为我们必须中断电流，并将电表放在线路上。

如果你熟悉如何使用试验板，你可以跟着做这个实验。然而，如果你没有使用过试验板，你可能想通读这个实验，然后在你读完这一章后再返回。在本实验中，我们将使用试验板电源、LED 和电阻。我们将连接电路，这样我们将使用万用表来完成电路。图 [7-9](#Fig9) 显示了如何使用万用表在线设置电路。

![A447395_1_En_7_Fig9_HTML.jpg](A447395_1_En_7_Fig9_HTML.jpg)

图 7-9。

Measuring current

在接通试验板电源之前，将黑色测试引线插入 COM 端口，将其他测试引线插入标有 mA 的端口。有些万用表用同一个端口测量电压和电流。将万用表的旋钮转到 200 毫安的设定值。然后接通试验板电源，将引线接触到指示的位置。注意只触摸试验板电源上的 VCC 引脚。一旦电路通电，您应该会在万用表上看到一个值。图 [7-10](#Fig10) 显示了如何使用万用表测量电路中的电流

![A447395_1_En_7_Fig10_HTML.jpg](A447395_1_En_7_Fig10_HTML.jpg)

图 7-10。

Measuring current

测量电流还有一个棘手的问题。如果您试图测量大于端口最大值的电流(例如，照片中的仪表在一个端口上的最大值为 20mA)。如果超过这个值，比如说 5A，我可能会烧断万用表的保险丝。这是不可取的，但至少有一个保险丝，我们可以更换，如果我们犯了错误，选择了错误的端口。

#### 测量电阻

电阻以欧姆(ω)为单位测量。我们用来在电路中引入电阻的最常见的元件是电阻器。我们可以用万用表通过电阻测试电荷的电阻。要测试电阻，选择最接近电阻额定值的欧姆表。例如，我要测试一个电阻，我认为它大约为 200 欧姆，但由于我不确定，我将选择 2k 设置。

接下来，将黑色测试引线插入 COM 端口，将红色测试引线插入标有 HzVΩ的端口。现在，将一个探针接触电阻器的一侧，另一个探针接触另一侧。无论选择哪一侧，电阻都可以双向工作。注意读数。仪表将读取以下三个值之一:0.00、1 或实际电阻值。

这种情况下，电表读数为 0.219，意味着该电阻的阻值为 220ω。回想一下，我使用 2k 标度，这意味着 1k 的电阻读数为 1.0。由于该值是一个小数，我可以将小数点向左移动，得到一个整数。

如果万用表显示另一个值，如 0 或 1，这表明标度是错误的，你应该尝试更高的标度。这不是问题。只是说明你需要选择更大的尺度。另一方面，如果显示器显示 0 或较小的数字，则需要选择较低的刻度。当我在一个未知的元件或电路中测试电阻时，我喜欢按下旋钮。

图 [7-11](#Fig11) 显示了一个测量电阻器电阻的例子。注意显示屏上显示的是 219。我正在测试一个额定 220 欧姆的电阻。之所以是 219 而不是 220，是因为我使用的电阻额定值为 220 +/- 5%。因此，该电阻器的可接受范围是 209-231 欧姆。

![A447395_1_En_7_Fig11_HTML.jpg](A447395_1_En_7_Fig11_HTML.jpg)

图 7-11。

Measuring resistance of a resistor

现在我们知道了如何测试一个电阻来发现它的额定值。正如我们将看到的，电阻体周围的环是我们了解其额定值的主要方式，但如果我们不确定，有人在上面涂了漆(嘿，这种情况时有发生)，或者我们懒得去查，我们总是可以测试它。

现在，让我们来讨论使用电子设备时必须理解的最基本概念——为您的项目供电！

### 为您的电子设备供电

电 [<sup>4</sup>](#Fn4) 简单地定义为电荷的流动，当使用时为我们的电子设备提供电力——从普通的灯泡或吊扇到我们的高清电视或我们的新平板电脑。无论你是用电池还是电源给你的电子设备供电，你都是在启动一个电子以特定模式流动的电路。你将使用两种形式的权力。你的家用交流电供电，你的电子设备用直流电供电。

术语交流电(AC)用于描述以特定速率(或周期)周期性改变方向的带电粒子流，使电压与电流反向。因此，交流系统被设计成在特定的周期和电压范围内工作。通常，交流系统比直流系统使用更高的电压。

术语直流电(DC)用于描述不改变方向的带电粒子的流动，因此总是以特定的“方向”流动大多数电子系统由 DC 电压供电，通常比交流系统的电压低。例如，IOT 项目通常在 3.3-24V 范围内的较低直流(DC)电压下运行。

Tip

有关交流电流和 DC 电流及其差异的更多信息，请参见 [`https://learn.sparkfun.com/tutorials/alternating-current-ac-vs-direct-current-dc`](https://learn.sparkfun.com/tutorials/alternating-current-ac-vs-direct-current-dc) 。

由于 DC 是单向流动的，在 DC 上工作的元件有一个正的和一个负的“面”,电流从正流向负。这些面的方向——一个是正极，一个是负极——叫做极性。有些元件，如电阻，可以在任何一个“方向”上工作，但你应该始终确保按照极性连接你的元件。大多数部件都有明确的标记，但那些没有标记的部件却有着众所周知的排列方式。例如，LED 的正极(侧面)是两条腿中较长的一条(称为阳极，而负极或较短的腿称为阴极)。

尽管电压较低，但我们不能认为它们完全无害或安全。电子设备接线错误(极性颠倒)或短路(将正极和负极连接在一起)会损坏您的电子设备，在某些情况下会导致过热，在极端情况下，会导致电子设备着火。

Caution

不要认为在 3.3 或 5.5 伏电压下工作是“安全的”即使少量电压连接不当也可能导致潜在的灾难性后果。不要认为低 DC 电压是无害的。

几年前，我就知道这种情况有多真实。我在换烟雾探测器的电池。我把旧电池拿出来，放在口袋里。我忘了在同一个口袋里还有一把小铅笔刀。其中一个电池在刀上短路，在大约十分钟内，电池加热到惊人的温度。它不足以燃烧，但如果我没有注意到这样的东西，它可能会很糟糕。

这是个可怕的想法，不是吗？把它当作一个告诫和警告；即使是低压项目，我们也不应放松安全操作实践。

最后，DC 组件通常针对特定的电压范围进行额定。回想一下我们对各种低成本计算板和 GPIO 接头的讨论，一些板的工作电压为 5V，而另一些板的工作电压为 3.3V(或更低)。幸运的是，我们有几种方法可以调整在不同电压下工作的元件——通过使用其他元件！

Note

我有意让关于权力的讨论保持简单。电流——甚至 DC——远不止我在这里描述的那样。一旦你理解了这些基础知识，你就能使用本书及更多书中的项目。

## 电子元件

除了学习如何使用万用表和可能的学习焊接，你还需要知道一些关于电子元件可用于建立你的项目。在这一节中，我将按名称的字母顺序提供一个简短的列表和一些常见组件的描述，您将在构建 IOT 解决方案时遇到这些组件。我还介绍了分线板和逻辑电路，它们是用一组组件构建的小电路，提供一种功能或解决一个问题。例如，您可以获得用于 USB 主机连接、以太网模块、逻辑移位器、实时时钟等的分线板。

### 纽扣

按钮(有时称为瞬时按钮)是一种按下时产生连接的机制。更具体地说，按钮在被按下时将两个或多个电极连接在一起。按钮的一个常见(也许是过度使用的)例子是家庭门铃。当按下时，它完成一个电路，触发钟声、铃声、音调或音乐播放。有些老式门铃在按下按钮时会继续响。

在 IOT 项目中，我们将使用按钮来触发事件、开始和停止动作以及类似的操作。按钮是开关的一种简单形式，但与开关不同的是，您必须持续按下按钮才能进行电气连接。大多数按钮至少有两个脚(或引脚),当按钮被按下时，这两个脚连接在一起。一些具有成对连接的两个以上的腿，并且其中一些可以允许多个连接。图 [7-12](#Fig12) 显示了几个按钮。

![A447395_1_En_7_Fig12_HTML.jpg](A447395_1_En_7_Fig12_HTML.jpg)

图 7-12。

Momentary buttons

瞬时按钮有一种特殊的变体，称为闩锁瞬时按钮。这个版本使用一个缺口或棘爪来保持电极连接，直到它再次被推动。如果你在音响或汽车上看到一个按钮一直按下，直到再次按下，这很可能是一个瞬时锁定按钮。

有各种各样的按钮，包括可以用于试验板的按钮(引脚间距允许其插入试验板)，可以安装在面板上的按钮，或者焊接到印刷电路板上的按钮。

### 电容器

电容器是用来储存电荷的。当电流流过电容器时，它会积累电荷，并在电流断开后放电。这样，它就像一个电池，但不像电池，电容器充电和放电非常快。我们使用电容来存储各种电流，包括阻挡电流、降低电源和音频电路中的噪声等。图 [7-13](#Fig13) 显示了几个电容。

![A447395_1_En_7_Fig13_HTML.jpg](A447395_1_En_7_Fig13_HTML.jpg)

图 7-13。

Capacitors

电容器有几种类型，但在为 IOT 项目构建电源时，我们最常遇到的是电容器。大多数电容有两个极化的引脚。即一个是正的，一个是负的。确保在电路中以正确的极性连接电容器。

### 二极管

二极管被设计成只允许电流单向流动。大多数都标有指向一条线的箭头，指示流向。在交流-DC 转换器(将交流转换为 DC 电压的设备)中，二极管通常用作整流器，与其他元件一起使用，以抑制电压尖峰，或保护元件免受反向电压的影响。它们通常用于防止电流流入设备。

大多数二极管的形状像一个小圆柱体，它们通常是黑色的，有银色的字迹，有两条腿。它们看起来有点像电阻器。我们在电源中使用一种称为齐纳二极管的特殊变体来帮助调节电压。图 [7-14](#Fig14) 显示了几个齐纳二极管。

![A447395_1_En_7_Fig14_HTML.jpg](A447395_1_En_7_Fig14_HTML.jpg)

图 7-14。

Diodes

### 融合

保险丝旨在保护设备(整个电路)免受超过元件安全工作电流的影响。保险丝直列放置在正极上。当过大的电流流过保险丝时，内部零件会触发电流中断。

一些保险丝内部使用一种特殊的导线，该导线会熔化或断开(从而使其无用，但可以保护您的设备)，而其他保险丝使用一种类似开关的机制(其中许多是可复位的)。当这种情况发生时，我们说保险丝“烧断”或“跳闸”保险丝的额定电流安培数表示保险丝在不跳闸的情况下允许流动的最大安培数。

保险丝有许多形状和种类，可以用交流或 DC 电压工作。我们要用的是一次性的。图 [7-15](#Fig15) 显示了两个保险丝的示例:左边是汽车式刀片保险丝，右边是玻璃筒保险丝。

![A447395_1_En_7_Fig15_HTML.jpg](A447395_1_En_7_Fig15_HTML.jpg)

图 7-15。

Fuses

如果你熟悉家中装有断路器的配电板，它们就是可复位保险丝。所以，下一次当其中一个“咔嚓”一声，灯灭了，你可以说，“嘿，保险丝断了！”更好的是，现在你知道为什么了——你已经超过了断路器的最大额定值。

这可能在你不小心让红外线加热器开着的情况下是没问题的，当你弄掉烤面包和启动微波炉时(这种情况会发生)，但是如果你经常在没有任何负载的情况下跳闸断路器，你应该叫电工来检查电路。

### 发光二极管

正如我们在第 [3](03.html) 章中了解到的，LED 有两个引脚，较长的引脚为正极，较短的引脚为负极。发光二极管也有一个平边，表示负支路。它们有各种尺寸，小到 3 毫米，大到 10 毫米。图 [7-16](#Fig16) 显示了一些较小的发光二极管的例子。

![A447395_1_En_7_Fig16_HTML.jpg](A447395_1_En_7_Fig16_HTML.jpg)

图 7-16。

Light emitting diodes

回想一下，我们还需要使用一个带 LED 的电阻。我们需要这一点来帮助减少电路的流量，以降低流经 LED 的电流。led 可以在较低的电流下使用(它们会比正常情况下稍微暗一点)，但不应该在较高的电流下使用。

为了确定我们需要多大的电阻，我们需要了解 LED 的几个方面。该数据可从制造商处获得，制造商以数据表的形式提供数据，或者在商业包装产品的情况下，在包装上列出数据。我们需要的数据包括最大电压、电源电压(LED 的电压)和 LED 的额定电流。

例如，如果我有一个像我们在上一章中使用的 LED，在这种情况下，一个 5 毫米的红色 LED，我们在 Adafruit 的网站(adafruit.com/products/297)上发现，该 LED 的工作电流为 1.8-2.2 伏和 20 毫安。假设我们希望使用 5V 电源电压。然后我们可以将这些值代入公式 [<sup>5</sup>](#Fn5) :

```py
R = (Vcc-Vf)/I

```

使用更具描述性的变量名称，我们得到如下结果。

```py
Resistor = (Volts_supply - Volts_forward) / Desired_current

```

把我们的数据代入，我们得到这个结果。注意，我们有 mA，所以我们必须使用正确的十进制值(除以 1000)。在这种情况下，它是 0.020，我们将在中间选择一个电压。

```py
Resistor = (5 - 2.0) / 0.020
         = 3.0 / 0.020
         = 150

```

因此，我们需要一个 150 欧姆的电阻。酷毙了。有时该公式会产生与任何现有电阻都不匹配的值。在这种情况下，选择一个最接近的值，但稍微大一点。记住，我们想要限制，因此宁可多限制也不要少限制。例如，如果你发现你需要一个 95 欧姆的电阻，你可以用一个 100 欧姆的，这比用一个 90 欧姆的更安全。

Tip

当公式产生一个没有可用电阻的值时，总是偏向限制性更强的电阻。

此外，如果您串联或并联使用 led，公式会有所不同。参见 [`https://learn.adafruit.com/all-about-leds`](https://learn.adafruit.com/all-about-leds) 了解更多关于在项目中使用 led 以及计算 led 使用的电阻大小的信息。

### 继电器

继电器是一种有趣的元件，可以帮助我们用低压电路控制高压。例如，假设您想要控制一个由 MicroPython 板提供 12V 电源的设备，而 MicroPython 板只能产生最大 3V 的电压。继电器可以与 3V 电路一起使用，以打开(或中继)来自较高电源的电源。在本例中，我们将使用 MicroPython 板输出来触发继电器接通 12V 电源。因此，继电器是开关的一种形式。图 [7-17](#Fig17) 显示了典型的继电器以及引脚的排列方式。

![A447395_1_En_7_Fig17_HTML.jpg](A447395_1_En_7_Fig17_HTML.jpg)

图 7-17。

Relay

继电器可以采取多种不同的形式，通常具有略微不同的接线选项，例如连接电源电压的位置和连接触发电压的位置，以及初始状态是打开(无流量)还是关闭(有流量)以及如何控制电压的行为。一些继电器安装在印刷电路板上，带有明显标记的端子，用于改变其开关特性和所有插件的位置。如果您想在项目中使用继电器，请务必查看数据表，以确保根据其配置正确接线。

你也可以使用继电器让你的 DC 电路像 Adafruit ( [`https://www.adafruit.com/product/2935`](https://www.adafruit.com/product/2935) )的那些开关交流电器。

### 电阻器

电阻器是电子学的标准构件之一。它的作用是阻止电流并降低电压(转化为热量)。它的影响被称为电阻，用欧姆来衡量。电阻可用于降低其它元件的电压，限制频率响应，或保护敏感元件免受过压影响。图 [7-18](#Fig18) 显示了几个电阻。

![A447395_1_En_7_Fig18_HTML.jpg](A447395_1_En_7_Fig18_HTML.jpg)

图 7-18。

Resistors

当电阻用于上拉电压(通过将一端连接到正电压)或下拉电压(通过将一端连接到地)(电阻是双向的)时，它消除了电压在不确定状态下浮动的可能性。因此，上拉电阻确保稳定状态为正电压，下拉电阻确保稳定状态为零电压(地)。

### 转换

开关设计用于控制两个或多个引脚之间的电流。开关有各种形状、尺寸和包装。一些被设计为简单的开/关，而另一些可以用来改变从一组引脚到另一组引脚的电流。像按钮一样，开关有多种安装选择，从 PCB(也称为通孔)到面板安装，以便安装在外壳中。图 [7-19](#Fig19) 显示了各种开关。

![A447395_1_En_7_Fig19_HTML.jpg](A447395_1_En_7_Fig19_HTML.jpg)

图 7-19。

Various switches

只有一个电极(腿或边)的开关称为单极开关。能够将电流从一组电极转移到另一组电极的开关叫做双极开关。每极只有一个次级连接的开关称为单投开关。从一组极点断开并连接到另一组极点同时保持公共输入的开关称为双掷开关。这些通常被组合并形成如下的开关类型(或种类)。

*   SPST:单刀单掷
*   DPST:双刀单掷
*   SPDT:单刀双掷
*   DPDT:双刀双掷
*   3PDT:三杆双掷

您可能会遇到其他变体。我喜欢这样保持笔直；如果我有刚开/关的情况，我想要一个单掷开关。多少极取决于我想同时接通或断开多少根电线或电路。对于双掷开关，当我有“A”条件和“B”条件时，我使用这些开关，当 B 断开时，我希望 A 接通，反之亦然。当我需要“A”、“B”和“off”时，我有时会使用多个投掷开关，其中我使用中间位置(投掷)作为 off。你可以非常有创意地使用开关！

### 晶体管

晶体管(双极晶体管)被设计成在一个周期内开关电流或放大电流的波动。有趣的是，用来放大电流的晶体管取代了真空管。如果你是一个音响发烧友，你可能知道很多关于真空管。当电阻器在开关模式下工作时，其行为类似于继电器，但其“关”位置仍允许少量电流流动。晶体管用于音频设备、信号处理和开关电源。图 [7-20](#Fig20) 显示了两种晶体管。

![A447395_1_En_7_Fig20_HTML.jpg](A447395_1_En_7_Fig20_HTML.jpg)

图 7-20。

Transistors

晶体管有各种各样的种类、封装和额定值，适合不同的解决方案。

### 稳压器

电压调节器(线性电压调节器)被设计成保持电流恒定。当我们需要调节或降低来自电源的电流时，电压调节器经常出现在电子设备中。例如，我们想为一个电路提供 5V 电压，但只有 9V 电源。电压调节器(大致)通过吸收电流并通过散热器耗散多余的电流来实现这一点。因此，电压调节器有三个分支:正电流输入、负电流和正电流输出。它们的典型形状如图 [7-21](#Fig21) 所示，但也存在其他种类。

![A447395_1_En_7_Fig21_HTML.jpg](A447395_1_En_7_Fig21_HTML.jpg)

图 7-21。

Voltage regulators

延伸出电压调节器的板上的小孔是安装散热器的地方。电压调节器通常被编号以匹配其额定值。例如，LM7805 产生 5V，而 LM7833 产生 3.3V。

图 [7-22](#Fig22) 显示了一个使用电压调节器向试验板上的 3.3V 电路供电的示例。该电路设计有电容来帮助平滑或调节电源。请注意，电容的额定值为 uF，即微法。

![A447395_1_En_7_Fig22_HTML.jpg](A447395_1_En_7_Fig22_HTML.jpg)

图 7-22。

Power supply circuit on a breadboard with voltage regulator

### 分线板和电路

分线板是我们 IOT 解决方案的模块化构建模块。它们通常将几个组件组合在一起，形成一种功能，如测量温度、读取 GPS 数据、通过蜂窝服务进行通信等。图 [7-23](#Fig23) 显示了两个分线板。左边是 adafruit 模数转换器(adafruit.com/products/1083)，右边是 Adafruit 气压传感器转接板( [`https://www.adafruit.com/product/1603`](https://www.adafruit.com/product/1603) )。

![A447395_1_En_7_Fig23_HTML.jpg](A447395_1_En_7_Fig23_HTML.jpg)

图 7-23。

Breakout boards

无论何时设计电路或 IOT 解决方案，都应该考虑尽可能使用分线板，因为它们可以简化元件的使用。以大气压力传感器为例。Adafruit 设计了这种板，因此我们使用它所需要做的就是连接电源，并通过其 I2C 总线将其连接到我们的 IOT 设备。I2C 总线是一种快速数字协议，它使用两条线(加上电源和地)从电路(或设备)读取数据。

因此，没有必要担心如何将传感器连接到其他组件来使用它-只需像任何 I2C 设备一样连接它并开始读取数据！我们将在本书后面的项目中使用几个分线板。

## 使用试验板构建电路

如果你一直跟随书中的项目，你已经遇到了一个制作非常简单电路的试验板。回想一下第 [3](03.html) 章，试验板是我们用来插入元件形成电路的工具。从技术上讲，我们使用的是无焊试验板。焊料试验板具有相同的布局，只是在 PCB 上只有通孔焊点。

Why are they Called Breadboards?

在微电子和分立元件广泛用于实验的辉煌时代，当我们想要制作电路原型时，有些人会使用一块钉有钉子的木头(有时是网格图案)，通过在钉子上缠绕电线来连接(称为“线路”)。一些人使用厨房里的试验板来制作绕线原型。这个名字一直沿用至今。

试验板允许我们为电路或简单的临时电路创建原型，而不必花费时间(和成本)来制作印刷电路板。原型制作是通过构建和测试您的想法来试验电路的过程。事实上，一旦我们让电路正常工作，就可以利用试验板布局来帮助我们设计 PCB。图 [7-24](#Fig24) 显示了几个试验板。

![A447395_1_En_7_Fig24_HTML.jpg](A447395_1_En_7_Fig24_HTML.jpg)

图 7-24。

Assorted breadboards

回想一下，大多数试验板(有几个品种)都有一个中心凹槽(称为峡谷)或沿着板中心的印刷线。这表示垂直于通道延伸的端子排未连接。也就是说，一侧的端子排没有连接到另一侧。这允许我们插入封装为两排引脚的集成电路(IC)或芯片。因此，我们可以将 IC 插入试验板，在试验板的每一侧都有一组引脚。我们在下面的例子中看到了这一点。

大多数试验板还有一组或多组电源轨，它们平行于沟道连接在一起。如果有两个集合，则这两个集合不会连接在一起。电源轨可能有一条彩色参考线，但这仅用于参考；你可以把其中一个变成积极的，另一个变成消极的。最后，一些试验板对端子排进行编号。这些仅供参考，没有其他意义。然而，它们可以方便地在你的工程笔记本上做笔记。图 [7-25](#Fig25) 显示了试验板的命名以及端子板和电源轨是如何连接在一起的。

Note

电源轨组没有连接在一起。如果你想在试验板的两侧都有电源，你必须使用跳线来连接它们。

![A447395_1_En_7_Fig25_HTML.jpg](A447395_1_En_7_Fig25_HTML.jpg)

图 7-25。

Breadboard layout Fritzing: A Breadboarding Software Application

这本书里的面包板图是用一个叫 Fritzing ( [`http://fritzing.org/home/`](http://fritzing.org/home/) )的程序制作的。这个开源应用程序允许你在试验板上创建一个电路的数字表示。使用起来相当方便。如果你发现自己想设计一个原型电路，使用 Fritzing 可以帮助你节省大量的试验和错误。另外，Fritzing 允许您在电子原理图或 PCB 布局视图中看到相同的电路。我建议下载并试用这个应用程序。

有时需要将电路与代码分开测试。例如，如果我们想确保所有设备都正确连接在一起，我们可以使用试验板电源为电路供电。这样，如果出现严重问题，我们就不会冒损坏 IOT 设备的风险。大多数试验板电源都建立在一个小 PCB 上，带有一个用于壁式电源的桶形插孔，两组用于插入试验板上电源轨的引脚，一个关闭开关(非常方便)，有些可以产生不同的电压。图 [7-26](#Fig26) 展示了我最喜欢的 Sparkfun ( `sparkfun.com/products/13157`)的试验板电源之一。

![A447395_1_En_7_Fig26_HTML.jpg](A447395_1_En_7_Fig26_HTML.jpg)

图 7-26。

Breadboard power supply

如果我们的电路需要比单个试验板更多的空间，您可以通过简单地跳过电源轨并继续电路来使用多个试验板。为了方便起见，一些试验板可以使用侧面的小块和插槽进行连接。最后，大多数试验板还带有背胶，您可以用它来安装在板上或外壳或类似的工作空间内。如果你决定使用背胶，要预先警告他们不能轻易拆开-他们会很好地保持不动。

现在我们对试验板的工作原理有了更多的了解，让我们来讨论一下我们的 IOT 解决方案中用来收集数据的组件:传感器。

## 什么是传感器？

传感器是一种测量物理世界现象的装置。这些现象可以是你看到的东西，像光、气体、水蒸气等等。它们也可以是你感觉到的东西，像温度、电、水、风等等。人类的感觉就像传感器一样，让我们能够体验周围的世界。然而，有些东西你的传感器看不到或感觉不到，比如辐射、无线电波、电压和安培数。在测量这些现象时，传感器的工作是以电压表示或数字的形式传达测量结果。

传感器有多种形式。它们通常是为单一用途设计的低成本设备，处理能力有限。大多数简单的传感器都是分立元件；甚至那些具有更复杂部件的设备也可以被视为单独的组件。传感器可以是模拟的，也可以是数字的，通常只用于测量一种东西。但是越来越多的传感器模块被设计用来测量一系列相关的现象，例如来自 spark fun Electronics([`www.sparkfun.com/products/10586`](http://www.sparkfun.com/products/10586))的 USB 天气板。

以下部分探讨传感器如何测量数据、如何存储数据，以及一些常见传感器的示例。

### 传感器如何测量

传感器是基于其化学和机械结构的独特属性产生电压的电子设备。一些人对传感器的常见误解之一是，它们不会操纵它们被设计来测量的现象(改变事件或数据)。相反，传感器对一些物理变量进行采样，并将其转换为成比例的电信号(电压、电流、数字信号等)。

例如，湿度传感器测量空气中水(湿气)的浓度。湿度传感器对这些现象做出反应，并产生一个电压，微控制器或类似设备可以读取该电压，并使用该电压来计算秤的数值。一种基本的低成本湿度传感器是可从大多数电子商店( [`https://www.adafruit.com/product/385`](https://www.adafruit.com/product/385) )买到的 DHT-22。图 [7-27](#Fig27) 显示了一个典型的 DHT-22 传感器。

![A447395_1_En_7_Fig27_HTML.jpg](A447395_1_En_7_Fig27_HTML.jpg)

图 7-27。

DHT-22 Humidity Sensor

DHT-22 设计用于测量温度和湿度。它在输出端(数据引脚)产生一个数字信号。虽然使用简单，但它有点慢，应该用于以合理的慢速度跟踪数据(不超过每 3 或 4 秒一次)。

当该传感器产生数据时，数据以一系列高(解释为 1)和低(解释为 0)电压的形式传输，微控制器可以读取并使用这些电压来形成一个值。在这种情况下，微控制器从传感器读取长度为 40 位(40 个高或低电压脉冲)的值，即 5 个字节，并将其放入程序变量中。前两个字节是湿度值，后两个字节是温度值，第五个字节是校验和值，以确保读数准确。幸运的是，所有这些艰苦的工作都以专门为 DHT-22 和类似传感器设计的库的形式为您完成了。

DHT-22 产生一个数字值。不是所有的传感器都这样做；一些产生电压范围。这些被称为模拟传感器。让我们花一点时间来理解它们的区别。这将成为您规划和构建传感器节点的重要信息。

#### 模拟传感器

模拟传感器是产生电压范围的装置，通常在 0 到 5 伏之间。需要一个模数转换电路将电压转换成数字。但事情并没有那么简单(是吗？).模拟传感器的工作原理类似于电阻，当连接到 GPIO 引脚时，通常需要另一个电阻来“上拉”或“下拉”电压，以避免被称为浮动的杂散电压变化。这是因为流过电阻的电压在时间和幅度上都是连续的。

因此，即使传感器不产生值或测量值，仍有电压流过传感器，可能导致虚假读数。您的项目需要明确区分关(零电压)和开(正电压)。上拉和下拉电阻确保您拥有这两种状态之一。模数转换器负责从传感器读取电压，并将其转换为可被解读为数据的值。

采样时(从传感器读取值时)，电压读数必须解释为给定传感器指定范围内的值。请记住，比方说，一个模拟传感器输出的 2 伏电压可能与另一个模拟传感器输出的 2 伏电压不是一回事。每个传感器的数据手册都向您展示了如何解释这些值。

如您所见，使用模拟传感器比使用 DHT-22 数字传感器要复杂得多。稍加练习，您会发现，一旦了解如何将模拟传感器连接到微控制器，以及如何在传感器校准工作的范围内解释其电压，大多数模拟传感器都不难使用。

#### 数字传感器

像 DHT-22 这样的数字传感器被设计成使用串行传输产生一串比特(一次一个比特)。然而，一些数字传感器通过并行传输产生数据(一次一个或多个字节 [<sup>6</sup>](#Fn6) )。如前所述，这些位表示为电压，其中高电压(比如 5 伏)或开是 1，低电压(0 甚至-5 伏)或关是 0。这些开和关值序列称为离散值，因为传感器以脉冲形式产生一个或另一个值，即开或关。

与模拟信号相比，数字传感器的采样频率更高，因为它们生成数据的速度更快，而且不需要额外的电路来读取数值(例如 A/D 转换器以及将数值转换为刻度的逻辑或软件)。因此，数字传感器通常比模拟传感器更精确和可靠。但是，数字传感器的精度与其用于采样数据的位数成正比。

数字传感器最常见的形式是按钮或开关。什么，按钮是传感器？为什么，是的，这是一个传感器。考虑一下安装在家庭安全系统窗户上的传感器。这是一个简单的开关，当窗户关闭时关闭，当窗户打开时打开。当开关连接到电路中时，当车窗关闭且开关闭合时，电流是恒定且不间断的(使用上拉电阻测量正电压)，但当车窗和开关打开时，电流中断(测量零电压)。这是最基本的开关传感器。

大多数数字传感器都是由几个元件组成的小电路，用于产生数字数据。与模拟传感器不同，读取它们的数据很容易，因为这些值无需转换就可以直接使用(除了转换到其他刻度或测量单位)。有些人可能认为这比使用模拟传感器更困难，但这取决于你的观点。电子爱好者会认为使用模拟传感器更容易，而程序员会认为数字传感器更容易使用。

现在，让我们看看一些可用的传感器及其测量的现象类型。

### 传感器的例子

观察某物的 IOT 解决方案可能使用至少一个传感器和一种方法来读取和解释数据。你可能在想各种各样有用的东西，你可以在家里或办公室，甚至在你的院子里或周围测量。你可能想测量新日光浴室的温度变化，检测邮递员何时将最新的通知扔进你的邮箱，或者记录你的狗使用狗门的次数。我希望到现在为止，当你想象你能测量什么的时候，你能看到这些只是冰山一角。

有哪些类型的传感器可用？以下部分描述了一些比较流行的传感器及其测量内容。我还提供了一些关于如何在 IOT 项目中使用传感器的提示。然而，这只是不断增长的可用传感器阵列中的一部分。细读 Mouser Electronics ( [`www.mouser.com`](http://www.mouser.com) )、spark fun Electronics([`www.sparkfun.com`](http://www.sparkfun.com))和 Adafruit Industries ( [`www.adafruit.com`](http://www.adafruit.com) )等在线电子产品供应商的目录，会发现更多的例子。

我还包括一些传感器类型的流行例子的照片。

#### 加速计

这些传感器测量传感器或它所连接的任何东西的运动或移动。它们被设计用来感应几个轴上的运动(速度、倾斜度、振动等等)。一些包括回转仪特征。大多数是数字传感器。Wii 双截棍(或 WiiChuck)包含一个复杂的加速度计，用于跟踪运动。啊哈:现在你知道 Wii 附带的那些有趣的小东西的秘密了吧！如果您的 IOT 项目涉及运动中的物体，并且对该运动的观察提供了有用的信息，您可能需要添加加速度计。

#### 音频传感器

也许这是显而易见的，但麦克风是用来测量声音的。大多数是模拟的，但一些更好的安全和监控传感器具有数字版本，用于传输数据的更高压缩。家庭安全、儿童监控、捉鬼或听觉健康等 IOT 项目都可以从集成音频传感器中受益。

#### 条形码阅读器

这些传感器被设计用来读取条形码。最常见的是，条形码阅读器生成代表条形码的数字等价物的数字数据。这种传感器通常用在库存跟踪系统中，以在工厂或运输过程中跟踪设备。它们数量众多，而且许多价格经济实惠，使您能够将它们整合到自己的项目中。如果您的 IOT 项目需要从对象中捕获数据，您可能需要考虑条形码。

例如，如果您希望感应停车场用户何时进入或离开无人值守的停车场，您可以在门口放置一个条形码读取器，读取您设计并分发给用户的条形码。当汽车停在大门前时，条形码阅读器可以读取条形码，记录入口，并升起大门。如果你曾经在大城市生活过，在受控的办公大楼工作过，或者是通勤学生，你可能会遇到这样的停车解决方案。

#### 生物传感器

读取指纹、虹膜或掌纹的传感器包含一个用于识别模式的特殊传感器。鉴于指纹和掌纹等图案的独特性，它们是安全访问系统的优秀组件。大多数生物传感器产生一组代表指纹或掌纹的数字数据。需要更高安全级别的 IOT 项目可能希望包括生物传感器来帮助识别系统的用户。

#### 电容式传感器

脉搏传感器是电容传感器的一种特殊应用，设计用于测量您的脉搏率，通常使用指尖作为感测部位。称为脉搏血氧仪(一些医疗专业人员称为 pulse-ox)的特殊设备通过电容传感器测量脉搏率，并通过光传感器确定血液中的含氧量。

如果你拥有现代电子设备，你可能会遇到触敏按钮，它们使用特殊的电容传感器来检测触摸和压力。如果你的 IOT 项目需要测量任何类型的运动，或对触摸做出反应，电容传感器可以帮助提供一个未来的非触觉界面。最新 MacBook Pro 上的 Touch Bar 就是这种解决方案的一个例子。

图 [7-28](#Fig28) 展示了两个你可以从 Adafruit 买到的触摸感应模块的例子。在这种情况下，我们看到用于瞬时开关( [`www.adafruit.com/products/1374`](http://www.adafruit.com/products/1374) )和拨动开关( [`www.adafruit.com/products/1375`](http://www.adafruit.com/products/1375) )的分线板。

![A447395_1_En_7_Fig28_HTML.jpg](A447395_1_En_7_Fig28_HTML.jpg)

图 7-28。

Touch Capacitive Sensor Breakout Boards

#### 硬币传感器

这是最不寻常的传感器之一。这些装置 [<sup>7</sup>](#Fn7) 就像典型自动售货机上的投币口。像它们的商业等价物一样，它们可以被校准以感应何时插入一定大小的硬币。虽然不像商业单位那样复杂，可以区分真假硬币，硬币传感器可以用来为您的项目添加一个新的维度。对于父母来说，一个伟大而实用的 IOT 项目将是一个投币式 WiFi 站，孩子们可以在那里购买自己的上网时间。这不仅能让他们避免过度使用互联网，还能帮助他们学会如何安排自己的零花钱。现在，这应该可以防止孩子们在互联网上花太多时间！

#### 电流传感器

这些设计用于测量电压和电流。有些是为测量变化而设计的，而有些是为了测量负载。IOT 的项目集成电路或需要监测电流将需要一个电流传感器。这些可能是一些更深奥的项目，但您可以使用这些传感器来监控现有解决方案的行为，而无需修改它们。

例如，如果您想采用传感器来观察制造机器，您可以添加传感器来监控各种组件的电流。也就是说，您可以记录电压何时施加到电机、致动器，甚至警告灯，以确定设备何时(或多少)被激活。然而，作为一个业余爱好者，你更可能有兴趣建立自己的万用表或类似的工具。

#### 弯曲/力传感器

电阻传感器测量一块材料的弯曲或压力对传感器的影响。弯曲传感器可能有助于测量扭转效应或测量手指运动(就像任天堂的电动手套一样)。当传感器弯曲时，传感器电阻增加。例如，如果您想创建一个 IOT 解决方案来实时报告您的钓鱼体验，您可能希望在您的鱼竿上使用一个 flex 传感器来报告您每次投掷或击中鱼饵的情况。

#### 气体传感器

有很多种气体传感器。有些测量潜在有害气体，如液化石油气和甲烷以及其他气体，如氢气、氧气等。其他气体传感器与光传感器相结合来感测空气中的烟雾或污染物。下次当你从烟雾探测器中听到那种警告性的、通常令人讨厌的低电量警告声 [<sup>8</sup>](#Fn8) 时，想想那个设备包含了什么。为什么，这是一个传感器节点！如果您的 IOT 项目需要观察或检测任何形式的气体，特别是如果它涉及到对某些气体或其水平的反应，您将需要使用适当的气体传感器。

#### 光传感器

测量光强或缺光的传感器是特殊类型的电阻:光敏电阻(ldr)，有时也称为光敏电阻或光电池。因此，它们本质上是模拟的。

如果你有一台 Mac 笔记本电脑，当你的发光键盘在弱光下自动打开时，你很可能已经看到了光敏电阻的作用。特殊形式的光传感器可以检测其他光谱，如红外线(如旧的电视遥控器)。例如，如果您希望您的 IOT 项目自动调整其显示器的亮度，光传感器就是您需要的组件。

![A447395_1_En_7_Fig29_HTML.jpg](A447395_1_En_7_Fig29_HTML.jpg)

图 7-29。

Mini Photocell

下面显示了光传感器的两个例子。图 [7-29](#Fig29) 显示了一个典型的微型光电池( [`www.sparkfun.com/products/9088`](http://www.sparkfun.com/products/9088) )，图 [7-30](#Fig30) 显示了一个颜色传感器( [`www.adafruit.com/products/1334`](http://www.adafruit.com/products/1334) )。

![A447395_1_En_7_Fig30_HTML.jpg](A447395_1_En_7_Fig30_HTML.jpg)

图 7-30。

Color Sensor Breakout Board

#### 液体流量传感器

这些传感器类似于阀门，内嵌在管道系统中。他们测量液体通过时的流量。基本的流量传感器使用旋转轮和磁铁来产生霍尔效应(快速开/关序列，其频率等于通过的水量)。如果你的 IOT 项目涉及任何形式的液体，如花园池塘或灌溉系统，了解水的流动可能有助于学习或观察某些东西。

#### 液位传感器

一种特殊的电阻固态器件可以用来测量水体的相对高度。一个例子是当水位高时产生低电阻，当水位低时产生高电阻。像液体流量传感器一样，液位传感器通常用于相同的解决方案中。图 [7-31](#Fig31) 显示了一个典型的液位传感器，当水位上升时，浮子关闭开关。

![A447395_1_En_7_Fig31_HTML.jpg](A447395_1_En_7_Fig31_HTML.jpg)

图 7-31。

Water-Level Sensor

#### 位置传感器

现代智能手机有 GPS 传感器来感应位置，当然 GPS 设备使用 GPS 技术来帮助你导航。幸运的是，GPS 传感器以低成本的形式提供，使您能够将位置检测添加到您的项目中。GPS 传感器生成经度和纬度形式的数字数据，大多数还可以感知海拔高度。如果你的 IOT 项目需要报告它的位置，GPS 传感器可以给你非常准确的读数。然而，像大多数传感器一样，GPS 传感器可能有一定程度的不准确性。根据你需要定位的距离，你可能需要多花一点钱买一个更精确的 GPS 传感器。

#### 磁条阅读器

这些传感器从磁条(像信用卡上的磁条)读取数据，并返回数字形式的字母数字数据(实际的字符串)。包含安全组件的 IOT 项目可能希望使用磁条读取器来帮助识别用户。当与密码和生物传感器结合使用时，安全性可以大大提高。也就是说，某人必须知道某样东西(密码或 pin)，拥有某样东西(带有磁条的安全卡，磁条上有关键短语、数字、用户 id 等编码)。)，并在获得访问权限之前被验证为某人(指纹)。

#### 磁力计

这些传感器通过磁场强度来测量方向。指南针是一种用来寻找磁北的传感器。一些磁力计提供多个轴，以便更好地检测磁场。这是另一个你可能不会经常遇到的传感器，但是如果你的 IOT 项目需要测量来自电机或大气现象的磁场，你可能想看看磁力计。

#### 湿度传感器

湿度传感器测量物质(如土壤)或空气中的湿度。它们通常以电压读数的形式发送数据，低值表示水分较少。您经常会在大气项目甚至工厂监控解决方案中发现湿度传感器。图 [7-32](#Fig32) 显示了一个典型的土壤湿度传感器()。请注意，尖头是传感器插入土壤的部分。

![A447395_1_En_7_Fig32_HTML.jpg](A447395_1_En_7_Fig32_HTML.jpg)

图 7-32。

Soil Moisture Sensor

#### 接近传感器

接近传感器通常被认为是距离传感器，它使用红外线或声波来检测物体的距离、运动或距离。受低成本机器人套件的欢迎，视差超声波传感器通过感应发送脉冲和接收脉冲之间的时间量(回声)，使用声波来测量距离。对于近似的距离测量， [<sup>9</sup>](#Fn9) 把时间转换成距离是一个简单的数学问题。如果您正在构建一个检测移动或接近的 IOT 项目，如运动感应相机，您可能需要使用接近传感器。

下图显示了两种类型的接近传感器。图 [7-33](#Fig33) 展示了一个流行的被动红外传感器(PIR)运动传感器( [`www.sparkfun.com/products/13285`](http://www.sparkfun.com/products/13285) )。

![A447395_1_En_7_Fig33_HTML.jpg](A447395_1_En_7_Fig33_HTML.jpg)

图 7-33。

PIR Motion Sensor

图 [7-34](#Fig34) 展示了一个超声波传感器( [`www.sparkfun.com/products/13959`](http://www.sparkfun.com/products/13959) )，用在从机器人到无人机的很多项目中。

![A447395_1_En_7_Fig34_HTML.jpg](A447395_1_En_7_Fig34_HTML.jpg)

图 7-34。

Ultrasonic Proximity Sensor

#### 辐射传感器

更重要的传感器是那些探测辐射的传感器。这也可能是电磁辐射(也有传感器)，但盖革计数器使用辐射传感器来检测有害的电离。事实上，使用一个传感器和一个 Arduino(以及一些电子元件)来建造你自己的盖革计数器是可能的。作为业余爱好者，你可能不会遇到这种传感器。然而，有几个工具包可以用来构建你自己的盖革计数器，比如 Adafruit ( [`www.adafruit.com/products/483`](http://www.adafruit.com/products/483) )的那些。

#### RFID 传感器

射频识别使用无源设备(有时称为 RFID 标签)通过电磁感应使用射频来传输数据。例如，RFID 标签可以是信用卡大小的塑料卡、标签或类似的包含特殊天线的东西，通常以线圈、细线或箔层的形式调谐到特定频率。

当标签被放置在阅读器附近时，阅读器发射无线电信号；标签可以使用电磁能量以无线电信号的形式传输嵌入在天线中的非易失性消息，该无线电信号然后被转换成字母数字串。 [<sup>10</sup>](#Fn10) RFID 传感器是安防系统的另一个好选择。如果你有宠物，你可能想拜访你的兽医询问 RFID 传感器作为隐藏的主人识别标签。如果你知道频率，你甚至可以用它来帮助检测你的宠物何时通过宠物门。图 [7-35](#Fig35) 显示了一个 RFID 阅读器(传感器)，您可以使用它通过 USB ( [`www.sparkfun.com/products/9963`](http://www.sparkfun.com/products/9963) )读取 RFID 标签。

![A447395_1_En_7_Fig35_HTML.jpg](A447395_1_En_7_Fig35_HTML.jpg)

图 7-35。

RFID Reader

#### 速度传感器

像流量传感器一样，许多自行车上的简单速度传感器使用磁铁和簧片开关来产生霍尔效应。频率结合车轮的周长可以用来计算速度，以及随着时间的推移，行驶的距离。如果您的 IOT 解决方案需要读取运动，您可以使用磁开关和磁铁来检测旋转。例如，自行车速度计通常使用磁铁和磁性开关来检测转数、车轮周长和动作频率，以计算速度。

#### 开关和按钮

这些是最基本的数字传感器，用于检测某个东西是被设置(开)还是被重置(关)。尽管如此，你可以使用开关和按钮来建立一个用户界面，用于控制其他设备，甚至是打开它！

#### 倾斜开关

这些传感器可以检测设备何时向某个方向倾斜。虽然非常简单，但它们对于低成本运动检测传感器非常有用。它们是数字的，本质上是开关。如果您的 IOT 解决方案需要检测设备何时倾斜，您可以使用倾斜传感器在特定倾斜角度触发。例如，一些现代摩托车使用倾斜传感器来打开转向灯——前照灯倾斜，以改善夜间转弯时的视野。

#### 触摸传感器

形成小键盘、键盘、定点设备等的触敏膜是一种有趣的传感器形式。你可以使用像这样的触摸感应设备来收集人类的数据。触摸传感器可以帮助您为您的 IOT 项目构建一个用户界面，该界面可以以低调的形式呈现，或者节省控制台、项目箱等的空间。

#### 视频传感器

如前所述，有可能获得非常小的视频传感器，这些传感器使用摄像机和电路来捕捉图像并将其作为数字数据传输。如果要将视频元素整合到 IOT 项目(如安全解决方案)中，可以添加摄像机或视频传感器来捕捉视觉组件，以帮助提供事件测量之外的信息。也就是说，你可以查看一张照片，了解更多信息，而不仅仅是移动或靠近设备的东西。例如，您可以构建一个 IOT 项目，该项目可以检测运动，并在某个物体足够接近或者运动速度超过某个阈值时拍摄照片。 [<sup>11</sup>](#Fn11)

#### 天气传感器

温度、气压、降雨量、湿度、风速等传感器都属于天气传感器。大多数生成数字数据，并可以结合起来创建全面的环境解决方案。图 [7-36](#Fig36) 显示了 BMP280 压力和温度传感器( [`www.adafruit.com/products/2651`](http://www.adafruit.com/products/2651) )的通用转接板。

![A447395_1_En_7_Fig36_HTML.jpg](A447395_1_En_7_Fig36_HTML.jpg)

图 7-36。

BMP280 Pressure and Temperature Sensor

有了这个和其他易于使用的传感器，就有可能用大约十几个廉价的传感器、你的 MicroPython 板和一点解释和组合数据的程序来建立你自己的气象站。事实上，我们将在第 10 章中讨论这个问题！

提示–如果您想查看更多传感器，您可以从 Adafruit ( [`www.adafruit.com/category/35`](http://www.adafruit.com/category/35) )或 Sparkfun ( [`www.sparkfun.com/categories/23`](http://www.sparkfun.com/categories/23) )购买任意数量的传感器。

I Want to Learn More!

如果你发现你需要或想要学习比我在这一章中介绍的更多的关于电子学的知识，或者你想要学习更多的关于你在一个更高级的 IOT 项目中需要的电子学知识，你可能想要考虑在一所社区大学上一门课程或者尝试一门自定进度的电子学课程。

我发现的最好的自定进度课程之一包括查尔斯·普拉特的一套电子书籍。我发现这些书写得非常好，为许多人打开了学习电子学的大门，而不必花数年时间学习乏味的(但同样重要的)电子学理论和数学。最重要的是，它们不是以沉闷的教科书式的事实-事实-事实-问题的节奏写成的。它们是由一位世界著名的专家撰写的，这位专家具有以易于阅读和理解的风格呈现材料的天赋。我向任何想学习更多电子知识的人推荐以下书籍。

*   制作:电子，第二版(奥赖利，2015)，查尔斯·普拉特
*   制造商:更多电子公司(奥赖利，2014 年)，查尔斯·普拉特
*   电子元件百科全书第 1 卷(O'Reilly，2012)，查尔斯·普拉特
*   电子元件百科全书第 2 卷(O'Reilly，2014)，查尔斯·普拉特
*   电子元件百科全书第 3 卷(O'Reilly，2016)，查尔斯·普拉特

他的百科全书系列的第三卷包括对传感器的深入研究:高级 IOT 项目的必备。

maker shed(makershed.com/collections/electronics)出售配套套件，其中包含完成《制作:电子》和《制作:更多电子书籍》中的实验所需的所有部件。这些书和工具包一起构成了一个极好的自定进度的学习体验。

## 摘要

学习如何把使用电子产品作为一种爱好或者创造一个 IOT 解决方案并不需要终生学习或者改变职业。事实上，学习如何使用电子设备是体验 IOT 乐趣的一部分！我遇到过许多自学电子的人，虽然大多数人承认正式学习对于掌握这个主题是必不可少的，但你可以自学很多东西——足以熟练使用 IOT 项目中常见的基本电子元件。

本章介绍了电子元件的基础知识，包括试验板、常见元件和示例电路的使用。这一点和一些如何使用万用表的关键知识将会让你在精通电子学的道路上走得很远。我们还了解了 IOT 解决方案的关键组件之一——传感器。我们发现了它们通信的两种方式(数字和模拟)以及一些可用的传感器类型。

在下一章，我们将深入我们的第一个电子项目——相当于“你好，世界！”硬件项目。我们将看到如何将我们的 MicroPython 板连接到几个组件，并编写一个 Python 程序来控制它们。酷！

Footnotes [1](#Fn1_source)

但是，正规的训练是没有替代品的！如果你想在本章的教程之外探索电子学，你可以考虑正式的培训，甚至是一个自定进度的课程，如侧栏“我想了解更多！”

  [2](#Fn2_source)

旧的万用表有一个模拟仪表。如果你想要一点老学校的感觉，你仍然可以找到他们。

  [3](#Fn3_source)

是的，有点强迫症。检查，再检查，再检查。

  [4](#Fn4_source)

[T2`https://learn.sparkfun.com/tutorials/what-is-electricity`](https://learn.sparkfun.com/tutorials/what-is-electricity)

  [5](#Fn5_source)

欧姆定律的变体( [`https://en.wikipedia.org/wiki/Ohm's_law`](https://en.wikipedia.org/wiki/Ohm's_law) )。

  [6](#Fn6_source)

这取决于并行缓冲区的宽度。8 位缓冲区一次可以传输 1 个字节，16 位缓冲区一次可以传输 2 个字节，依此类推。

  [7](#Fn7_source)

[T2`www.sparkfun.com/products/11719`](http://www.sparkfun.com/products/11719)

  [8](#Fn8_source)

我相信越多越好的理论，在家里有很多探测器，这很好，但是当电池耗尽时，我永远也不会知道哪个探测器在响！当它们只发出一两声哔哔声，然后就无声无息了，这就变得令人沮丧。幸运的是，我已经用最新的 10 年电池变体替换了几乎所有的电池。不再有野鹅追逐！

  [9](#Fn9_source)

精度可能取决于环境变量，如海拔、温度等。

  [10](#Fn10_source)

[T2`http://en.wikipedia.org/wiki/Radio-frequency_identification`](http://en.wikipedia.org/wiki/Radio-frequency_identification)

  [11](#Fn11_source)

你有没有想过，如果你能抓拍到一张正在你的花园里吃东西的动物的照片，那该有多好？用一个接近传感器和一个红外线照相机建造你自己的动物照相机！