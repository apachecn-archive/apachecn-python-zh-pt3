# 1.什么是物联网？

如果你最近一直在关注技术世界，那么你很可能会遇到无数次提到物联网这个术语。大多数媒体参考资料和公司广告将这个或那个称为物联网，但很少或没有解释它的含义。即使你找到了它的深度，文本也倾向于关注问题和挑战，或者关注让我们未来生活更美好的承诺。一些人认为，随着我们每天与周围世界的联系越来越紧密，物联网将带来我们社会不可避免的演变。

然而，你不需要陷入如此令人兴奋的概念或背诵修辞来开始物联网。事实上，通过众多开源开发者和厂商的努力，不需要密集的培训，也不需要昂贵的软硬件，就可以探索物联网。最重要的是，您可以探索物联网，而无需学习大量编程知识或花费数月时间学习如何编码！

这本书旨在成为一个指南，帮助您了解物联网，并开始构建您可以用来了解更多关于物联网的解决方案。因为这是一本初学者的书，我们将从检查编程语言和环境开始，然后详细看一下硬件。我们还将学习电子学的基本知识，然后探索几个项目来帮助我们理解如何使用该软件。最终项目将把所有方面结合在一起，以帮助理解什么是物联网，甚至如何编写定制软件来构建物联网解决方案。最重要的是，我们使用最容易使用的编程语言之一和易于使用的开源微控制器板。

那么，这个物联网是什么，也就是 IOT？ [<sup>1</sup>](#Fn1) 我们先来解释一下它不是什么。IOT 不是一个新的设备或专有软件或一些新的硬件，也不是一个新的营销计划，通过重命名和发音为“新的和改进的”来卖给你更多你已经拥有的东西 [<sup>2</sup>](#Fn2) 虽然 IOT 确实采用了已经存在的技术和技巧，但它们的使用方式，加上从世界任何地方访问解决方案的能力，使得 IOT 成为一个令人兴奋的探索概念。现在让我们讨论什么是 IOT。

IOT 的本质是简单的互联设备，这些设备从观察、事实和其他数据中生成和交换数据，使其可供任何人使用。虽然似乎有一些营销努力试图使任何连接到互联网的东西成为 IOT 的解决方案或设备——这与无耻的将所有东西都贴上“云”的标签没有什么不同，但 IOT 解决方案旨在通过使随时随地获取任何东西的数据成为可能，使我们对周围世界的知识更加及时和相关。

你可以想象，如果我们将我们周围的每一个设备都连接到互联网，并为这些设备提供传感数据，很明显，IOT 设备的数量有可能超过地球上的人口数量，生成的数据也有可能迅速超过除最复杂的数据库系统之外的所有数据库系统的能力。这些概念通常被称为可寻址性和大数据，是 IOT 最活跃和最具争议的两个话题。

然而，IOT 是关于理解我们周围的世界。也就是说，我们可以利用数据让我们的世界和我们对它的理解变得更好。

## 物联网和你

我们如何观察周围的世界？人体是巧妙的感觉器官的奇迹，它允许我们看、听、尝，甚至通过触摸我们遇到的任何东西。甚至我们的大脑也可以存储视觉和听觉事件，并随意回忆它们。IOT 解决方案模仿了许多这样的感觉能力，因此可以成为我们自身能力的延伸。虽然这听起来有点浮夸(确实如此)，但 IOT 解决方案可以记录来自一个或多个传感器的数据形式的观察结果，并通过互联网供任何人在任何地方查看。

传感器是产生模拟或数字值的设备。然后，我们可以使用收集的数据得出关于主题的结论。这可能就像传感器检测门、窗或邮箱何时被打开一样简单。在邮箱开关的情况下，我们从简单的开关打开或关闭(取决于它是如何实现和解释的)中获得的知识可以用于预测传入邮件何时到达或传出邮件何时被取走。我使用“预测”一词是因为传感器(开关)只告诉我们门是开着还是关着的，而不是告诉我们有什么东西被放入邮箱或从邮箱中取出——这需要额外的传感器。

一个更复杂的例子是使用一系列传感器来记录大气数据，如温度、湿度、气压、风速、环境光、降雨量等。，以监控天气，使我们能够对数据进行分析，以预测天气趋势。也就是说，我们可以在合理的确定性范围内预测该地区有降水。

现在，添加不仅实时(当数据出现时)而且从世界任何地方远程查看数据的能力，解决方案就不仅仅是一个简单的气象站了。它成为一种从世界任何地方观察一个地方天气的方法。这个例子可能看起来有点普通，因为你可以收听任何数量的电视、网络和广播，收听世界任何地方的天气预报。但是，请考虑在您的家中构建这样一个解决方案的意义。现在你可以在自己家里看到关于天气的数据！

以同样的方式，但也许在更小的范围内，我们可以建立监测植物的解决方案，以帮助我们了解它们需要水和其他养分的频率。或者，我们可以在外出工作时监控我们的宠物。此外，我们可以记录我们所在地区的野生动物数据，以更好地了解我们对自然的影响。

### IOT 不仅仅是连接到互联网

如果一个设备连接到互联网，这是否使其成为 IOT 解决方案？那取决于你问谁。一些人认为答案是肯定的。然而，其他人(比如我自己)认为答案是否定的，除非这样做有好处。例如，如果你把你的烤面包机连接到互联网，这样做有什么好处？如果你的烤面包机给你的手机发短信说你的烤面包准备好了，这是毫无意义的(或者至少是极端古怪的)。所以，在这种情况下，答案是否定的。

然而，如果你想监控一些人，比如负责任的青少年或者老年人，那么查看他们使用烤面包机的频率和时间可能会有所帮助。也就是说，您可以使用这些数据来帮助您对他们的护理和安全做出决策。

对我来说，如果数据没有任何用处，无论是实时查看的数据还是存储起来供以后处理的数据，那么简单地将其连接到互联网并不能使其成为 IOT 的解决方案。使用这种设备肯定会有好处。因此，接入互联网并不能让某些东西成为 IOT。相反，IOT 解决方案必须是那些能提供一些意义的东西——无论多小，只要对某人或其他设备或服务有益。

更重要的是，无论我们构建 IOT 解决方案来做什么，它们都允许我们感知我们周围的世界，并从这些观察中学习。真正棘手的部分在于数据是如何收集、存储和呈现的。我们将在后面的章节中通过例子看到这些。请看侧栏中一个有争议的 IOT 设备的例子——一个普通的家用电器。

但是，IOT 解决方案通常可以利用提供服务的公司，这些服务可以帮助增强或提供您可以在 IOT 解决方案中使用的功能。这些功能通常被称为 IOT 服务，范围从存储和演示到托管等基础设施服务。

Internet-Enabled Appliances: IOT or Marketing Hype?

一个似乎变得流行的想法或概念是将主要的家用电器连接到互联网。虽然制造商可能希望你相信这是一个新的和令人兴奋的 IOT 设备，但事实是，它既不是一个新的想法，也不是一个改变世界的 IOT 解决方案。

我有幸参加了 20 世纪 90 年代末在微软校园举行的设计研讨会。在我们参观校园的过程中，我们看到了世界上第一台能够上网的冰箱(也称为智能冰箱或简称为互联网冰箱)。 [<sup>3</sup>](#Fn3) 货架上有传感器来检测食物的重量。有人建议，只要有点独创性，就可以利用传感器在你的牛奶供应不足时通知你的杂货商，这将使人们不仅可以在线购物，而且可以自动购物。

现在，20 年后，我们看到制造商们正在制造连接互联网的冰箱。然而，与第一台智能冰箱不同，这些新设备被定位为家庭的社交媒体焦点。许多人不提供关于冰箱内容的任何有意义的数据，除了小工具一样的不开门就能看到内容的视频图像的功能，这可以通过安装玻璃门来解决。

我只想说，像我这样的 IOT 爱好者对这样的东西怎么可能有用挠头，更不用说卖得好了。可悲的是，这些新的互联网冰箱似乎确实卖得很好，但我想知道消费者是否被炒作所吸引。关于为什么互联网冰箱不适合你的有趣评论，在谷歌上搜索一下，你会发现很多观点——大多数是负面的(然而，人们仍然会购买这些东西)。 [<sup>4</sup>](#Fn4)

让我们用我对 IOT 的定义来评价互联网冰箱:它通过向你提供关于你周围世界的信息来改善你的生活吗？好吧，如果你需要在离家 3000 英里之外查看你有多少牛奶，那么我想这可能是有益的，但对于我们大多数人来说，我们宁愿在去商店之前打开门看看，这可能不是一个 IOT 设备。

### IOT 服务

可悲的是，有些公司吹嘘拥有 IOT 的产品和服务只不过是营销炒作——就像一些公司所做的那样，在名称前加上“云”或附加“为了云”。幸运的是，有一些好的产品和服务是专为 IOT 打造的。这些范围从数据存储和托管到专门的硬件。

事实上，企业在产品中加入 IOT 服务的速度比任何人都快。它不是通常的嫌疑人，如互联网巨头。我看到思科、美国电话电报公司、惠普以及无数初创公司和小型企业提供 IOT 解决方案和服务。我使用术语 IOT 供应商来描述那些为 IOT 解决方案提供服务的企业。

你可能想知道这些服务和产品是什么，为什么会考虑使用它们。也就是说，什么是 IOT 服务，你为什么会决定购买它？您决定购买服务的最大原因是成本和上市时间。

如果您的开发人员没有资源或专业知识，并且获得这些资源或专业知识所需的费用超过了服务的费用，那么购买服务可能更经济。但是，您还应该考虑在决策中任何必要的额外的软件或硬件变更(有时称为重组)。我曾经遇到过一个善意的、有良好文档记录的合同服务，它允许一个产品比预期的更快地进入市场，从而节省了大量成本。可悲的是，虽然该合同的冠军赢得了技术成就奖，但他们没有考虑到这样一个事实，即系统必须重新装备才能使用新服务。更具体地说，采用新服务比从头开始编写新服务需要更长的时间。因此，该组织不但没有节省资金，反而花费了近三倍的资金，并且上市时间较晚。显然，我们必须考虑所有因素。

同样，如果您的时间不多，或者您很难在截止日期前准备好解决方案，那么购买 IOT 服务可能比创建或修改您自己的服务更快。这可能需要多花一点钱，但在这种情况下，动机是时间，而不是(必然)成本。当然，这是成本和时间的混合体。

那么，IOT 有哪些服务呢？下面列出了最近几年出现的一些。随着 IOT 解决方案和服务的成熟，可能会提供更多的服务。

*   企业 IOT 数据托管和展示–允许您的用户开发企业 IOT 解决方案的服务，包括连接、管理和定制友好形式的数据展示，如图形、图表等。例如:Xively ( [`https://xively.com/`](https://xively.com/) )
*   IOT 数据存储–允许您存储 IOT 数据并获得简单报告的服务。例如:Sparkfun 的 IOT 数据服务( [`https://data.sparkfun.com/`](https://data.sparkfun.com/) )
*   网络–为 IOT 提供网络和类似通信协议或平台的服务。大多数专门从事机器对机器(M2M)服务例如:美国电话电报公司的蜂窝全球 SIM 卡服务(`business.att.com/enterprise/Family/mobility-services/internet-of-things`)
*   IOT 硬件平台——允许您使用硬件平台和一系列受支持的模块和工具快速开发和制作 IOT 设备原型的供应商，用于构建从简单组件到完整设备的设备。例如:英特尔的 IOT 网关开发套件(`intel.com/content/www/us/en/embedded/solutions/iot-gateway/development-kits.html`)

现在，我们对 IOT 有了更多的了解，让我们来看几个 IOT 解决方案的例子，以便更好地了解 IOT 解决方案能做什么以及如何使用它们。

### IOT 解决方案简介

IOT 解决方案就是一组设计用于产生、消费或呈现关于某个事件或一系列事件或观察结果的数据的设备。这可以包括生成数据的设备(如传感器)、组合数据以推断某些东西的设备、设计用于制表和存储数据的设备或服务，以及设计用于呈现数据的设备或系统。任何这些都可以连接到互联网。

无论是将 IOT 解决方案整合到网络摄像头等单一设备中，还是整合到气象站等传感器包和监控单元中，或者整合到由专用传感器、聚合器、数据存储和演示等设备组成的复杂系统中，如完整的家庭自动化系统中，这些解决方案都可能具备上述多种特性。图 [1-1](#Fig1) 展示了一幅无处不在的连接到互联网的所有设备的未来图景，这些设备可以是数据库、数据收集器或集成器、显示服务，甚至是其他设备。

![A447395_1_En_1_Fig1_HTML.jpg](A447395_1_En_1_Fig1_HTML.jpg)

图 1-1。

The future of IOT – all devices, everywhere[<sup>5</sup>](#Fn5)

让我们看一些 IOT 解决方案的例子。本节中描述的 IOT 解决方案是多种解决方案的组合，您应该对 IOT 解决方案的规模和复杂性有所了解。我还指出了其中一些解决方案如何利用 IOT 供应商的服务。

#### 传感器网络

传感器网络是最常见的 IOT 解决方案之一。简单地说，传感器网络让你可以观察你周围的世界并理解它。传感器网络可以采取池塘监控系统的形式，提醒您水位、水纯度(污染)、水温，检测捕食者，甚至自动打开功能，如照明或给花园池塘中的鱼喂食。

如果你或你认识的人在医疗机构呆过一段时间，就有可能使用传感器网络来监控身体功能，如体温、心率、呼吸能力，甚至四肢的活动范围。现代汽车还包含传感器网络，专用于监控发动机、气候，甚至一些汽车的路况。例如，车道警告功能使用传感器(通常是摄像头、微处理器和软件)来检测您何时偏离车道或道路分界线太远。制造工厂还采用传感器网络来监控机器、传送带等。货运票据交换所还利用传感器网络来帮助将包裹发送到正确的垃圾箱，并最终发送到正确的卡车或飞机上进行运输。

因此，传感器网络采用一个或多个传感器，这些传感器对事件或状态进行测量(观察)，并将该数据传送给网络中的另一个组件或节点，然后以某种形式呈现该数据以供分析。让我们看一个重要的医疗 IOT 解决方案的例子。

#### 医疗应用

包括健康监测和健身在内的医疗应用作为消费品正受到越来越多的关注。这些解决方案涵盖了广泛的功能，如新 Apple Watch 内置的健身功能，以及记录您锻炼情况的健身带，甚至还有帮助您控制危及生命状况的医疗应用。例如，有一些解决方案可以帮助你管理糖尿病。

糖尿病是一种影响全球数百万人的疾病。有几种形式:最严重的是 1 型(`diabetes.org/diabetes-basics/type-1/?loc=db-slabnav`)。由于遗传缺陷、先天缺陷或胰腺损伤，1 型糖尿病患者不能产生足够的(或任何)胰岛素。胰岛素是一种激素，身体用来从血液中提取一种简单的糖，称为葡萄糖，由糖和淀粉产生，供细胞使用。未能监测您的血糖可能会导致危险的低血糖或高血糖水平，这两种情况都可能危及生命，如果不加以控制，可能会对内脏器官、神经和其他部位造成长期损害。这是最严重的情况。

Athletes and Diabetes

职业运动员是世界上身体最健康的人。许多人都是健康的典范，受到粉丝和其他运动员的赞赏。在过去，如果一名职业运动员感染了像 1 型糖尿病这样的疾病，他们的职业生涯就结束了。现在，随着现代医疗技术的发展，职业运动员开始克服自己的病情，继续比赛。

一个突出的例子是 Ryan Reed，他是 NASCAR Xfinity 赛车的赛车手，也是 16 号 Lily Diabetes Ford 的司机。2011 年，里德被诊断患有 1 型糖尿病，并被告知他将永远不会再参加比赛。从那时起，里德通过仔细监测自己的状况克服了障碍，重返赛场。

里德不仅回到了他热爱的运动，他还在代托纳国际赛道赢得了不止一次而是两次的赛季开幕系列赛冠军。里德证明了教育、警惕和技术可以让我们的生活变得更好。

1 型糖尿病患者必须监测他们的血糖，以确保他们正确使用药物(主要是胰岛素),并与健康的生活方式和饮食保持平衡。如果他们的血糖水平降得过低或过高，他们可能会出现一系列症状。更糟糕的是，极低的血糖水平非常危险，可能是致命的。

一种最新版本的血糖测试仪由一个小型传感器和一个通过蓝牙连接到传感器的监视器组成，该传感器可以留在体内长达一周。您将显示器佩戴在身上(或始终保持在 20 英尺以内)。该解决方案由 Dexcom ( `dexcom.com/`)销售，被称为连续血糖监测仪(CGM)，允许患者通过手机与其他人分享数据。因此，患者将他们的 CGM 与他们的电话配对，然后通过互联网与其他人共享数据。这可能是你所爱的人，那些帮助你照顾他们的人，甚至是医疗专业人士。

图 [1-2](#Fig2) 显示了 Dexcom CGM 监视器和传感器的示例。监视器在左边，传感器和发射器在右边。这种传感器只有一个小针头那么大，可以在体内停留长达一周的时间。

![A447395_1_En_1_Fig2_HTML.jpg](A447395_1_En_1_Fig2_HTML.jpg)

图 1-2。

Dexcom Continuous Glucose Monitor with Sensor

一项名为 Dexcom Share 的功能允许患者通过手机上的应用程序向他人提供他们的数据。也就是说，患者的手机将数据传输到 Dexcom 云服务器，然后这些数据将被发送给任何拥有 Dexcom Share 应用程序并被授予查看数据权限的人。图 [1-3](#Fig3) 显示了来自 Dexcom Share iOS 应用程序的 Dexcom Share CGM 报告示例，它允许您轻松快速地检查朋友或亲人的血糖。

![A447395_1_En_1_Fig3_HTML.jpg](A447395_1_En_1_Fig3_HTML.jpg)

图 1-3。

Dexcom Share App Report

该应用程序不仅允许数据可视化，还可以传递低血糖或高血糖水平的警报，这对患有其他疾病或糖尿病并发症的患者具有深远的影响。例如，如果患者在独自一人、无行为能力或无法接受治疗时血糖水平下降，使用 Dexcom Share 应用程序的亲人可以通过检查患者做出反应，并可能避免严重的糖尿病事件。

虽然这种解决方案是通过专有应用程序连接到互联网的单个传感器，但它是医疗 IOT 设备的一个极好的例子，不仅可以改善患者的生活，还可以改善护理他们的每个人的生活。

Dexcom 还提供了一个名为 Dexcom Studio ( [`http://dexcom.com/dexcom-studio`](http://dexcom.com/dexcom-studio) )的免费 Windows 应用程序，允许患者查看他们的监视器收集的数据，并生成大量报告，他们可以使用这些报告来查看他们的血糖水平。报告包括平均值、模式、每日趋势等。他们甚至可以与他们的医生分享他们的数据。图 [1-4](#Fig4) 显示了加载典型数据的 Dexcom Studio 示例。

![A447395_1_En_1_Fig4_HTML.jpg](A447395_1_En_1_Fig4_HTML.jpg)

图 1-4。

Dexcom Studio What About Blood Glucose Testers – Glucometers?

在像 Dexcom CGM 这样的解决方案出现之前，糖尿病患者必须使用手动测试仪。传统的血糖测试仪是一次性使用的，需要患者刺破手指或手臂，并在测试条上抽取少量血液。虽然这种设备已经使用了很多年，但直到最近，制造商才开始制造具有记忆功能，甚至可以连接到笔记本电脑或手机等其他设备的血糖测试仪。这些设备的最终发展是像 Dexcom 这样的解决方案，它已经成为一种医疗 IOT 设备，可以提高糖尿病患者的生活质量。

结合可编程警报，您和您所爱的人可以帮助管理糖尿病的影响。如果你有一个患有糖尿病的爱人，CGM 值得每一分钱来让你安心。这是 IOT 的真正力量，体现在一个潜在的救命解决方案中。

#### 汽车 IOT 解决方案

另一个个人 IOT 解决方案是使用互联网连接的汽车功能。最古老的产品之一叫做安吉星(onstar.com ),通用汽车公司(GM)的最新款和新款汽车上都有这种产品。虽然 OnStar 是一种基于卫星的服务，有几个级别和许多收费选项，但它结合了互联网，允许与车主通信。事实上，最新的通用汽车配备了内置的 WiFi 接入点！更好的是，在我看来，有一些基本功能是免费提供给 GM 所有者的，非常有价值。

免费的基本功能包括通过电子邮件发送给您的定期维护报告，以及使用手机上的应用程序解锁、锁定、远程启动的能力——所有功能都在您的钥匙链上远程实现。如果你曾经把钥匙锁在车里，这是一个很酷的功能！图 [1-5](#Fig5) 显示了 iOS 上的远程密钥卡应用示例。当然，还有更多的付费功能，包括导航、电话、WiFi 和电话支持。

![A447395_1_En_1_Fig5_HTML.jpg](A447395_1_En_1_Fig5_HTML.jpg)

图 1-5。

OnStar App Key Fob Feature

OnStar 应用程序通过连接到云中的 OnStar 服务，请求通过 OnStar 卫星网络发送到车辆的功能(例如，解锁)。因此，这是 IOT 解决方案如何使用多种通信协议的绝佳范例。

我最喜欢的功能是维护报告。您将收到一封电子邮件，其中概述了您车辆的维护状态。该报告包括机油寿命、轮胎压力、发动机和变速器警告、排放、安全气囊等内容。图 [1-6](#Fig6) 显示了您将收到的一封典型电子邮件的摘录。

![A447395_1_En_1_Fig6_HTML.jpg](A447395_1_En_1_Fig6_HTML.jpg)

图 1-6。

OnStar Maintenance Report

请注意显示的信息。实际数据从您的车辆传输到 OnStar。例如，里程表读数和轮胎压力数据直接取自车辆的车载数据存储器。也就是说，来自传感器的数据被读取、解释并为您生成报告。该功能展示了 IOT 解决方案中的自动数据编辑如何帮助我们保持车辆处于良好的机械状态，并在需要维护时发出预警。这为我们提供了最好的服务，帮助我们保持我们的车辆处于最佳状态，从而处于高转售价值的状态。

我应该指出，通用汽车并不是唯一提供此类服务的汽车制造商。许多其他人正在开发他们自己的解决方案，从类似 OnStar 的功能集到专注于娱乐和连接的解决方案。

#### 车队管理

IOT 解决方案的另一个例子是车队管理系统。 [<sup>6</sup>](#Fn6) 车队管理系统是在 IOT 这个词出现之前开发和部署的，它允许企业监控他们的汽车、卡车、船只——几乎是任何移动设备——不仅可以跟踪他们的当前位置，还可以使用位置数据(一段时间内获得的 GPS 坐标)来规划更有效的路线，从而降低运输成本。

车队管理系统不仅仅是为了路由。事实上，车队管理系统还允许企业监控每个单元进行诊断。例如，可以知道每辆卡车中有多少燃料，上次维护是什么时候进行的，或者更重要的是，下次维护是什么时候，等等。车辆地理跟踪和诊断的结合被称为远程信息处理。图 [1-7](#Fig7) 为车队管理系统图。

![A447395_1_En_1_Fig7_HTML.jpg](A447395_1_En_1_Fig7_HTML.jpg)

图 1-7。

Fleet Management Example[<sup>7</sup>](#Fn7)

在图中，您将看到 GPS 系统在跟踪位置方面的应用，以及卫星通信在传输诊断、有效负载状态等附加数据方面的应用。所有这些最终都会通过互联网，业务分析师可以访问这些数据。

你可能认为船队管理系统只适用于大型航运公司，但随着 GPS 模块甚至微控制器市场的激增，任何人都可以创建船队管理系统。也就是说，它们不需要花费数百万美元来开发。

例如，如果您拥有一家自行车送货公司，您可以轻松地将 GPS 模块与每个送货人的蜂窝或无线连接相结合，以跟踪他们的位置、平均行程时间等。更具体地说，您可以使用这样的解决方案，通过允许将包裹从一个递送人传递到另一个递送人，而不是在每次完成一组递送后让他们返回仓库，来最大限度地减少递送时间。

Camera Drones and The IOT

IOT 的一个可能用途是让无人机产生的数据在互联网上可用。有些人可能觉得无人机侵犯了隐私，我同意无人机被滥用或违反既定法律的情况。幸运的是，绝大多数无人机所有者遵守当地法律、法规和业主的意愿。 [<sup>8</sup>](#Fn8)

然而，无人机有许多合法用途，无论是陆基、空基还是海基。例如，我可以想象家庭监控解决方案，您可以通过查看固定摄像头的数据和移动无人机的数据来远程检查您的家。就我个人而言，我希望看到一种解决方案，允许我编程一个预先确定的哨兵飞行路径，用飞行的无人机监控我的财产。

虽然一些供应商有支持 WiFi 的无人机，但没有多少消费级选项可以通过互联网实时传输数据。但是，有一些选项允许您直接从无人机上发布视频和照片。我的一架无人机是 Yuneec Breeze ( [`www.yuneec.com/en_US/products/breeze/overview.html`](http://www.yuneec.com/en_US/products/breeze/overview.html) )，它允许我将从无人机上收集的照片和视频发布到社交媒体上。有趣的是，这些无人机被称为“自拍无人机”，因为它们具有允许自主模式的功能，包括无人机跟随你拍摄你的滑稽动作，或围绕你的位置，以及其他有趣的功能。

虽然这些新的无人机需要手动操作来发布数据，但我们看到包含无人机的实时 IOT 解决方案只是时间问题。当然，当前的争议以及美国政府注册和跟踪无人机的行动，以及对其使用的越来越多的限制，可能会限制无人机和包括无人机获取的数据的 IOT 解决方案的扩展。

### IOT 和安全

最近一连串的大规模数据泄露事件证明，基本的安全性还不够好。我们已经看到了从直接盗窃到利用从 Target 等非常知名的企业(超过 4000 万个信用卡号码可能已被泄露)和美国人事管理办公室等政府机构(超过 2000 万个社会安全号码被泄露)窃取的数据的各种情况。

IOT 解决方案也不能幸免于安全威胁。事实上，随着 IOT 解决方案越来越多地融入我们的生活，我们的个人数据也将越来越多。因此，必须非常重视安全性，并从一开始就将其纳入解决方案中。

这包括我们自己开发的解决方案。更具体地说，如果您设计一个供自己使用的气象站，您应该采取合理的措施来确保数据不会被意外或故意利用。您可能认为天气数据没有高风险，但是考虑一下这样一种情况，您为您的传感器包括 GPS 坐标(一个合理的功能)，以便人们可以看到天气在哪里被观察到。如果有人可以看到这些信息，并确定该解决方案使用了互联网连接，他们就有可能获得对互联网设备的物理访问权，并可能利用它来进一步渗透和利用您的系统。因此，安全性不仅仅与数据有关；它应该涵盖解决方案的所有方面，从数据到软件到硬件到物理访问。

您可能需要考虑在以下四个方面花费额外的精力，以确保您的 IOT 解决方案受到良好的安全保护。正如您将看到的，这包括您应该为现有基础设施、计算机甚至安全计算习惯考虑的几件事情。通过利用这些领域，您将构建一个分层的安全方法:通常称为深度防御方法。

Do I Really Need To Worry About Security?

如果您想知道为什么我在一本关于 IOT 和 Python 的初学者书籍中包含了这一部分，请考虑一下您最终想用从这本书中学到的知识做什么。如果您只对学习如何使用新的 MicroPython 板感兴趣，并且没有进一步开发的愿望，那么您可能想浏览这些部分。但是，如果您的目标包括制作您部署的 MicroPython IOT 解决方案——特别是如果您计划将其连接到互联网——您将需要考虑解决方案的安全性。无论哪种方式，我强烈建议阅读并遵循这些提示来保护您的 IOT 解决方案。

#### 安全始于家庭

在将 IOT 解决方案引入您的家庭网络之前，您应该考虑采取预防措施，以确保家庭网络上的机器受到保护。这一点很重要，因为如果有人进入您的家庭网络，他们就可以进行各种各样的恶意活动。

最常见的错误是没有保护家庭 WiFi 网络。这不仅意味着你的邻居可以跳到你的网络上占用你的带宽，还意味着他们可以离开你的 IOT 设备、电脑、电器等进入你家庭网络的系统。，容易受到攻击。

幸运的是，有一些保护家庭网络的最佳实践可以帮助降低这些风险。其中包括以下内容。密码:这似乎是一件简单的事情，但是一定要确保在你所有的电脑和设备上使用密码。此外，采用良好的密码习惯，例如要求较长的字符串、混合大小写、数字和符号，以确保密码不容易被猜到。 [<sup>9</sup>](#Fn9)

*   保护您的 WiFi:如果您有 WiFi 网络，请确保添加密码并使用最新的安全协议，如 WPA2，或者更好的是，一些无线路由器的内置安全设置功能。
*   使用防火墙:您还应该使用防火墙来阻止所有未使用的端口(TCP 或 UDP)。例如，锁定除您的解决方案使用的端口(如 html 的端口 80)之外的所有端口。
*   限制物理访问:锁上门！仅仅因为你的网络有一个伟大的密码，你的计算机使用超级世界间谍加密生物识别访问，如果有人可以直接访问你的网络硬件，这些事情就没有意义。对于 IOT 解决方案，这意味着任何外部组件都应安装在防篡改外壳中或锁定起来，以免被发现。这也包括任何网络布线。

其中一些你可能知道如何做，但其他的可能需要一个更了解设备和网络的朋友的帮助。例如，如果你不知道什么是防火墙，请别人帮助你。一点额外的安全是值得努力学习如何设置防火墙的基础知识的。

#### 保护您的设备

如上所述，您的 IOT 设备也需要得到保护。要考虑的一些实践包括以下内容。

*   使用密码:在任何安装了操作系统的设备上，始终为用户帐户添加密码。这包括确保重命名任何默认密码。例如，您可能会认为一个小小的 Raspberry Pi 太小了，不足以成为安全问题，但是如果您认为这些设备运行的是现有的最强大的操作系统之一(Linux 形式)，Raspberry Pi 可能是一个非常强大的黑客工具。
*   让你的软件保持最新:你应该尽量使用最新版本的软件。这包括操作系统以及您可能正在运行的任何固件或编程工具。较新的版本通常具有更高的安全性或更少的安全漏洞。
*   如果你的软件提供了安全功能，使用它们:如果你的设备上有服务器或服务在运行，并且它们提供了诸如丢失密码自动锁定的功能，打开它们。并不是所有的软件都有这些功能，但是如果它们是可用的，它们可以是击败重复攻击的一个很好的方法。

#### 使用加密

这是一个经常被忽视的领域。虽然该选项通常仅用于传输机密数据的解决方案，如商用 IOT 设备，但如果您计划发送您认为敏感的数据，如果您在存储数据时加密数据，并在传输数据时加密通信机制，则可以进一步保护您自己和您的数据。如果你加密了你的数据，即使有人获得了存储设备的物理访问权，这些数据也是无用的，因为他们不容易破译加密。像处理计算机密码一样小心处理加密密钥和密码。

#### 安全性不会止于云端

将 IOT 设备连接到云服务需要考虑很多因素。事实上，微软和其他公司已经使得在你的 IOT 解决方案中使用 can 服务变得非常容易。但是，对于安全性和您的 IOT 数据，有两个重要的注意事项。

*   你需要云吗？:你应该考虑的第一件事是，你是否需要把你的任何数据放在云端。通常情况下，云服务使存储和查看您的数据变得非常容易，但有必要这样做吗？例如，当你在工作时，你可能非常关心并且非常渴望查看你的狗在哪里度过的后勤数据，但是还有谁会关心查看这些数据呢？在这种情况下，没有必要将数据存储在云中以供每个人使用。
*   不要放松！:许多人似乎在使用云服务时放松了警惕。不管出于什么原因，他们认为云更加安全。事实是，它不是！事实上，在云中工作时，您必须应用与您自己的网络、计算机和安全策略完全相同的安全最佳实践。事实上，如果有的话，你需要更加警惕，因为云服务在防止物理访问方面不受你的控制(无论多么遥远和不太可能)，也不能保证你的数据不会与数十、数百甚至数千其他用户的数据在同一设备上。

既然我们已经知道了应该如何在我们的项目中包含安全性，那么让我们简单地看一下我们将在本书中使用的编程语言——Python。

## Python 和 IOT

Python 是一种高级的、解释性的、面向对象的脚本语言。Python 的最大特点之一是拥有一个清晰、易于理解的语法，读起来尽可能接近英语。也就是说，即使你没有学过 Python，你也应该能够阅读 Python 脚本并理解它。Python 也比其他语言有更少的标点符号(特殊符号)和更少的语法机制。

以下是 Python 的一些关键特性。

*   解释器在运行时处理 Python。不使用编译器。
*   Python 通过类和方法支持面向对象的编程结构。
*   对于初级程序员来说，Python 是一种很好的语言，并且支持各种应用程序的开发。
*   Python 是一种脚本语言，但可用于广泛的应用。
*   Python 非常受欢迎，在全世界范围内使用，这给了它一个巨大的支持基础。
*   Python 关键字少，结构简单，语法定义清晰。这使得学生能够很快学会这门语言。

### 起源

Python 由吉多·范·罗苏姆于 20 世纪 80 年代末至 90 年代初在荷兰国家数学和计算机科学研究所开发，并由该研究所的核心开发团队维护。它源自许多语言并受其影响，包括 Modula-3、C、C++，甚至 Unix shell 脚本语言。

关于 Python 的一个有趣的事实是，它是以 BBC 节目“蒙蒂 Python 的飞行马戏团”命名的，与同名的爬行动物没有任何关系。在源代码文档中引用 Monty Python(甚至是对错误消息的幽默转移)是非常常见的，虽然一些专业开发人员可能会对这种暗示感到畏缩，但 Python stas[<sup>11</sup>](#Fn11)认为这是展示您的 Python 街头信誉。如果你喜欢 Monty Python，我鼓励你在代码中使用节目片段。我喜欢玩的一个地方是打印信息。我最喜欢的是这样的: [<sup>12</sup>](#Fn12)

```py
> DUPLICATE FILE ERROR: He says they've already got one!

```

有些人可能想知道像 Python 这样的语言怎么可能有助于编写 IOT 解决方案。答案是一个叫做 MicroPython 的很酷的产品。简而言之，MicroPython 是一个压缩的、优化的 Python 3 代码，已经加载到硬件中。这意味着，MicroPython 芯片可以直接在硬件上运行 Python 代码，而不是必须在操作系统上运行解释器来执行 Python 代码。不需要操作系统。事实上，MicroPython 内置了基本的文件 I/O。

我们将在下一章学习更多关于 MicroPython 的知识。对于那些想探索 IOT，但不想学习复杂的编程语言或花大量时间学习新的操作系统、工具和硬件的人来说，这是一个令人兴奋的新选择。但是首先，让我们看看使用 MicroPython 有多简单。

### 在线 Python 模拟器

对于那些渴望体验使用 Python 控制硬件的人来说，micropython.org 的好人们有一个在线交互式 MicroPython 模拟器( [`http://micropython.org/live`](http://micropython.org/live) )，使用最流行的 MicroPython 板之一 pyboard ( [`www.adafruit.com/products/2390`](http://www.adafruit.com/products/2390) )。当您访问该网站时，您会看到一个界面，其中有一个 pyboard 连接到几个设备的实时视频图像，这些设备包括伺服系统、led、LCD 面板，甚至还有 SD 驱动器。

模拟器有几个示例脚本(Python 程序称为脚本)，您可以试用。有脚本来打开发光二极管，打印到液晶显示器，甚至移动伺服。模拟器允许您选择一个脚本，并将其提交到队列中运行。如果队列中没有其他脚本，您将看到您选择的脚本几乎立即运行。图 [1-8](#Fig8) 显示了一个打开 LED 的简单脚本示例。在这种情况下，是电路板上的 LED。

![A447395_1_En_1_Fig8_HTML.jpg](A447395_1_En_1_Fig8_HTML.jpg)

图 1-8。

MicroPython Simulator - LED on (courtesy of micropython.org)

请注意，在图像中，我们看到几个部分或面板。从左上方顺时针方向，我们可以看到当前代码(当前代码)和板上运行的代码的当前输出(当前输出)，运行中的板的视频馈送，显示您执行的代码的脚本输出(使用`print()`函数)的区域(我的输出)，以及允许您滚动可用示例脚本并执行它们的面板(我的代码)。以下按钮允许您控制脚本。

*   快跑！:执行“我的代码”面板中的当前代码
*   清除:清除“我的代码”面板
*   向左箭头:循环查看示例脚本列表
*   右箭头:在示例脚本列表中向前循环

模拟器最酷的一点是，你可以使用“我的代码”面板编写自己的代码！只需单击 clear 按钮，将光标放在第 2 行(在 import 语句下面)，然后开始输入。当你准备好了，点击运行！按钮。图 [1-9](#Fig9) 显示了一个脚本的例子，它打印了两行代码，显示了我编写的在板上运行的代码。

![A447395_1_En_1_Fig9_HTML.jpg](A447395_1_En_1_Fig9_HTML.jpg)

图 1-9。

MicroPython Simulator - Custom code (courtesy of micropython.org)

图 [1-10](#Fig10) 和 [1-11](#Fig11) 显示了另外两个示例脚本。

![A447395_1_En_1_Fig11_HTML.jpg](A447395_1_En_1_Fig11_HTML.jpg)

图 1-11。

MicroPython Simulator – UART Calculations (courtesy of micropython.org)

![A447395_1_En_1_Fig10_HTML.jpg](A447395_1_En_1_Fig10_HTML.jpg)

图 1-10。

MicroPython Simulator – LCD (courtesy of micropython.org)

虽然您可能没有完全理解示例中的 Python 代码，但我建议您花一些时间来尝试一下这些脚本，这样您就可以看到用 MicroPython 控制硬件是多么有趣(而且只需要很少的代码)。如果没有别的，这个模拟器应该会让您有兴趣了解更多关于 MicroPython 的知识。

## 摘要

对我们所有人来说，物联网是一个激动人心的新世界。我们这些内心年轻但年龄足够大的人还记得杰特森的电视连续剧，回忆起在虚幻的土地上看到的可能。尽管会说话的烤面包机、从公文包里蹦出来的会飞的汽车和有态度的机器人，几十年前的电视幻想正在成为现实。我们有手表兼作电话和视频播放器，我们可以从世界各地解锁我们的汽车，了解我们的狗是否已经出门，甚至可以从城市的另一端开门。所有这些都是可能的，并且随着 IOT 的出现而发挥作用。

在本章中，我们发现了什么是 IOT，并看到了一些著名的 IOT 解决方案的例子。我们还发现了微软如何通过 Raspberry Pi 硬件将其 Windows 10 操作系统扩展到 IOT，从而为 Windows 用户打开大门。对于那些不想学习基于 Linux 的操作系统的细微差别的人来说，这是一个非常令人兴奋的机会，他们可以从一个熟悉的、充分理解的平台探索硬件和 IOT 的世界。

在下一章，我们将发现更多关于 MicroPython 的内容，包括如何在 MicroPython 中编程。正如你将看到的，这并不困难。然后，我们将在第 [3](03.html) 章中更详细地探讨我们将用于运行 MicroPython 的硬件，以完成我们的 IOT MicroPython 入门之旅。

Footnotes [1](#Fn1_source)

[T2`https://en.wikipedia.org/wiki/Internet_of_Things`](https://en.wikipedia.org/wiki/Internet_of_Things)

  [2](#Fn2_source)

例如，一切似乎都是云——这，云——那时候什么都没有改变。

  [3](#Fn3_source)

[T2`https://en.wikipedia.org/wiki/Internet_refrigerator`](https://en.wikipedia.org/wiki/Internet_refrigerator)

  [4](#Fn4_source)

[T2`https://www.howtogeek.com/260896/why-buying-a-smart-fridge-is-a-dumb-idea/`](https://www.howtogeek.com/260896/why-buying-a-smart-fridge-is-a-dumb-idea/)

  [5](#Fn5_source)

[T2`https://pixabay.com/en/network-iot-internet-of-things-782707/`](https://pixabay.com/en/network-iot-internet-of-things-782707/)

  [6](#Fn6_source)

[T2`https://en.wikipedia.org/wiki/Fleet_management`](https://en.wikipedia.org/wiki/Fleet_management)

  [7](#Fn7_source)

埃里克狩猎——通过 cc by-sa 3.0(“t1”)。

  [8](#Fn8_source)

截至 2015 年 12 月 21 日，美国重量超过 0.55 磅的无人机。必须在飞行前注册。 [`https://registermyuas.faa.gov/`见](https://registermyuas.faa.gov/)。

  [9](#Fn9_source)

您还需要在密码的复杂性和您记忆密码的能力之间取得平衡。如果你一定要写下来，你刚刚打败了你自己的安全！你可能会惊讶地发现，猜测别人密码的第一条规则是看他们的键盘下面。那是大多数人放便利贴和密码的地方。不要那样做。

  [10](#Fn10_source)

巨蟒剧团指的是一群喜剧演员，而不是一个人。然而，这部喜剧无疑是精彩的。[T2`https://en.wikipedia.org/wiki/Monty_Python`](https://en.wikipedia.org/wiki/Monty_Python)

  [11](#Fn11_source)

Pythonistas 是 Python 开发专家，是所有 Python 事物的倡导者。

  [12](#Fn12_source)

[T2`http://mzonline.com/bin/view/Python/HolyGrailScene9/`](http://mzonline.com/bin/view/Python/HolyGrailScene9/)