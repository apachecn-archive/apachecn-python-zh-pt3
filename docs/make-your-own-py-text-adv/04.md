# 四、决策

你明天要做一个重大决定——坐公共汽车还是走路。好吧，好吧，也许这不是一个重大的决定，但还是一个决定。你的决定可能基于许多因素，但让我们保持简单。如果下雨，那你就坐公交；否则，你会走路。

请注意决策的结构:

1.  第一，有些事不是真的就是假的。在这种情况下，是真是假的事情就是有没有下雨。这叫做条件。
2.  接下来，如果条件为真，则采取行动。如果下雨，你就乘公共汽车。
3.  最后，如果条件为假，则采取行动。如果不下雨，那你就步行。

计算机需要以同样的方式做决定的能力。在计算机代码中，我们可以给计算机一个条件来评估，如果这个条件为真或为假，我们就采取行动。这个概念被称为分支，因为当我们需要时，代码可以“分支”到两个或更多的方向。

## 布尔运算

形式上，一个或真或假的陈述被称为布尔表达式。以下是布尔表达式的一些示例:

*   我的年龄是 30 岁
*   我有两个兄弟姐妹
*   1 > 100
*   1 < 100

如果你通读这些陈述，你应该能够说出每一个对你来说是对还是错。对于前两个条件，我们的答案各不相同，但希望我们都同意后两个条件！

在 Python 中，我们可以按如下方式编写这些表达式:

```py
1   age == 30
2   siblings == 2
3   1 > 100
4   1 < 100

```

注意，我们可以像在数学中一样使用`<`和`>`操作符。但是双等号是怎么回事？那是打印错误吗？不，这个符号是相等运算符。记住一个等号(`=`)已经有了一个目的——给变量赋值。在示例中，我们不是赋值，而是检查值，因此我们必须使用不同的运算符。

如上所述，这些表达式中的每一个都可以计算为真或假。“真”和“假”是如此重要的概念，以至于它们实际上是 Python 中的关键字。不出所料，这种新的数据类型被称为布尔数据类型。“布尔表达式”和“布尔数据类型”通常都简称为“布尔”，上下文暗示了所指的内容。

当 Python 代码被求值时，布尔表达式被转换为它们的布尔类型。这意味着以下表达式都是等价的:

```py
1   1 == 1
2   'abc' == 'abc'
3   True

```

类似地，这些表达式也是等价的:

```py
1   1 == 0
2   'abc' == 'xyz'
3   False

```

为了向自己证明这一点，打开 Python shell 并输入一些内容。Python 会对每个表达式进行求值，并用`True`或`False`进行响应。

还有一个比较运算符需要学习，那就是“不等于”运算符。在 Python 中，这被写成`!=`。在 Python 解释器中尝试这些表达式

```py
>>> 1 != 0
>>> True != True
>>> 'abc' != 'xyz'

```

总结一下，这里是我们目前所知的算子，加上`>=`和`<=`:

<colgroup><col align="left"> <col align="left"> <col align="left"></colgroup> 
| 操作员 | 类型 | 目的 |
| `=` | 分配 | 给变量赋值 |
| `==` | 比较 | 检查两个值是否相等 |
| `!=` | 比较 | 检查两个值是否不相等 |
| `>` | 比较 | 检查左边的值是否大于右边的值 |
| `>=` | 比较 | 检查左边的值是否大于或等于右边的值 |
| `<` | 比较 | 检查左边的值是否小于右边的值 |
| `<=` | 比较 | 检查左边的值是否小于或等于右边的值 |

## If 语句

现在我们知道了布尔表达式和数据类型，我们可以开始用 if 语句向代码添加条件。一个`if`-语句必须有一个条件，一个条件为真时要采取的动作，以及一个条件不为真时要采取的可选动作。例如:

```py
1   n = 50
2   if n < 100:
3       print("The condition is true!")
4   else: # <-- This part is optional

5       print ("The condition is false!")

```

有时，将自己和他人的注释直接放入代码中会很有帮助。这些被称为代码注释，Python 会在程序运行时忽略它们。在 Python 中，代码注释以`#`开头。

我们还可以使用关键字`elif`堆叠`if`语句:

```py
1   n = 150
2   if n < 100:
3       print("n is less than 100.")
4   elif n < 1000:
5       print("n is less than 1000.")
6   else:
7       print("n is a big number!")

```

在 Python 中，`elif`是“else if”的写法。它被简称为`elif`,因为它被广泛使用。

现在继续打开`game.py`，按如下方式更改代码:

```py
 1   print("Escape from Cave Terror!")
 2   action_input = input('Action: ')
 3   if action_input == 'n':
 4       print("Go North!")
 5   elif action_input == 's':
 6       print("Go South!")
 7   elif action_input == 'e':
 8       print("Go East!")
 9   elif action_input == 'w':
10       print("Go West!")
11   else:
12       print("Invalid action!")

```

该代码将读入用户输入，并将输入的值与预定义的字符(“n”、“s”、“e”或“w”)进行比较。如果其中一个条件为真，程序将分支到代码的那个部分，并将操作打印到控制台。否则，它会通知用户该操作无效。

## 布尔运算

有时，将多个条件组合成一个条件会很有帮助，我们使用关键字`and`和`or`来实现这一点。这些工作就像你期望的那样。

```py
1   if a == 3 and b == 4:
2       print("The hypotenuse is 5.")
3   if a == 3 or b == 4:
4       print("The hypotenuse might be 5.")

```

您可以根据需要使用任意数量的运算符，但是当您开始组合运算符时，有时需要使用括号来指定条件的求值顺序。尝试在解释器中键入以下内容:

```py
>>> 1 == 100 and 1 == 2 or 1 == 1
>>> (1 == 100 and 1 == 2) or 1 == 1
>>> 1 == 100 and (1 == 2 or 1 == 1)

```

第一个例子在语法上是正确的，但是读起来令人困惑。为了澄清这一点，在第二个例子中，我们用圆括号将前两个条件括起来。在第三个例子中，我们实际上改变了表达式的求值顺序，从而改变了响应。

这两种分组的区别如下:

```py
1   (1 == 100 and 1 == 2) or 1 == 1
2   (False) or 1 == 1
3   False or True
4   True

```

和...相对

```py
1   1 == 100 and (1 == 2 or 1 == 1)
2   1 == 100 and (True)
3   False and True
4   False

```

考虑到这一点，我们可以这样做:

```py
1   if (a == 3 and b == 4) or (a == 4 and b == 3):
2      print("The hypotenuse is 5.")

```

请注意，我们不能这样做:

```py
1   # Warning: Bad Code!

2   favorite_color = 'blue'
3   if (favorite_color = 'red' or 'orange'):
4       print("You like warm colors.")

```

虽然在头脑中阅读代码可能有意义，但这是无效的语法。`or`或`and`两边的语句必须是完整的布尔表达式。

为了使我们的游戏更加用户友好，让我们让每个条件忽略行动的情况:

```py
 1   print("Escape from Cave Terror!")
 2   action_input = input('Action: ')
 3   if action_input == 'n' or action_input == 'N':
 4       print("Go North!")
 5   elif action_input == 's' or action_input == 'S':
 6       print("Go South!")
 7   elif action_input == 'e' or action_input == 'E':
 8       print("Go East!")
 9   elif action_input == 'w' or action_input == 'W':
10       print("Go West!")
11   else:
12       print("Invalid action!")

```

如果你现在测试这个游戏，你可以验证动作是否被接受。

## 家庭作业

尝试以下家庭作业练习:

1.  `=`和`==`有什么区别？
2.  创建`ages.py`来询问用户的年龄，然后打印出一些与他们年龄相关的信息。例如，如果那个人是成年人，如果他们可以买酒，他们可以投票，等等。注意:`int()`函数可以将字符串转换成整数。